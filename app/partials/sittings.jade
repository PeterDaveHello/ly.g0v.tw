.sittings(ng-cloak)
  script(src="https://www.youtube.com/iframe_api")
  script(src="//cdnjs.cloudflare.com/ajax/libs/d3/3.3.3/d3.min.js")
  h1
    span {{ name }}
    .sitting-options
      select(ng-model="chosenSitting", ng-options="sitting.name for sitting in currentList")
      img(ng-show="loadingSitting", src="/img/loading.gif")
    div
      span.btn-group
        button.btn.dropdown-toggle(data-toggle="dropdown")
          選擇其他
          span.caret
        ul.dropdown-menu
          li
            a(ng-click="setContext('YS')") 院會
          li(ng-repeat="(type, name) in committees")
            a(ng-click="setContext(type)") {{name}}
      img(ng-show="loadingList", src="/img/loading.gif")

  .row-fluid
    .span10.content
      .role.committee(ng-show="committee")
        ul
          li(ng-repeat="c in committee")
            span
              img.avatar.medium(ng-src="http://avatars.io/50a65bb26e293122b0000073/committee-{{c.abbr}}?size=medium",ng-alt="{{c.name}}",ng-class="{{c.abbr}}")
              span.name {{c.name}}委員會
      // XXX use mly filter to set styles
      .hero-unit
        .row(ng-show="dates[0].chair")
          .span3.td-title 主席
          .span9 {{ dates[0].chair }}
        .row(ng-show="dates", ng-repeat="entry in dates")
          .span3.td-title
            span(ng-show="$index==0") 時間
          .span9
            {{entry.date}} : {{entry.time_start}} -  {{entry.time_end}}
        .row(ng-show="summary")
          .span3.td-title 概要
          .span9 {{ summary }}
      .row-fluid(ng-show="loaded")
        #player
        .wav-group
          svg.waveform
          #waveform2
      .row-fluid
        .span10.content
      .entries.motions
          input.filter(ng-model="filter",class="search-query pull-right", placeholder="輸入關鍵字過濾列表")
          ul(class="nav nav-tabs")
            li(ng-repeat="s in allTypes",ng-click="setType(s.key)",ng-class="{active: s.key == type}")
              a(href="") {{s.value}}
          .list
            ul.motions(ng-class="{{type}}")
                li.row(ng-repeat="e in entries | filter:{status: status} | filter:filter")
                    .avatars
                        span(ng-repeat="avatar in e.avatars")
                            img.avatar(ng-src="http://avatars.io/50a65bb26e293122b0000073/{{avatar.avatar}}?size=small",ng-alt="{{avatar.name}}",ng-class="avatar.party")
                    .motion
                        span.item {{ e.item }}
                        span.proposer {{ e.proposed_by }}
                        a(ng-href="/bills/{{ e.bill_id }}")
                            span.summary {{ e.summary }}
                    .resolution {{ e.resolution }}
      // XXX: show onair and upcoming ivod link
      // XXX: search archived ivod clips for past sittings
      // XXX: show agenda from misq, annotated with info from npl
      // XXX: show debates, wrans if YS
