(function(){"use strict";var e="undefined"!=typeof window?window:global;if("function"!=typeof e.require){var t={},n={},r=function(e,t){return{}.hasOwnProperty.call(e,t)},o=function(e,t){var n,r,o=[];n=/^\.\.?(\/|$)/.test(t)?[e,t].join("/").split("/"):t.split("/");for(var i=0,l=n.length;l>i;i++)r=n[i],".."===r?o.pop():"."!==r&&""!==r&&o.push(r);return o.join("/")},i=function(e){return e.split("/").slice(0,-1).join("/")},l=function(t){return function(n){var r=i(t),l=o(r,n);return e.require(l)}},s=function(e,t){var r={id:e,exports:{}};t(r.exports,l(e),r);var o=n[e]=r.exports;return o},a=function(e){var i=o(e,".");if(r(n,i))return n[i];if(r(t,i))return s(i,t[i]);var l=o(i,"./index");if(r(n,l))return n[l];if(r(t,l))return s(l,t[l]);throw Error('Cannot find module "'+e+'"')},c=function(e,n){if("object"==typeof e)for(var o in e)r(e,o)&&(t[o]=e[o]);else t[e]=n};e.require=a,e.require.define=c,e.require.register=c,e.require.brunch=!0}})(),function(e){for(var t,n=function(){},r="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(",");t=r.pop();)e[t]=e[t]||n}(window.console=window.console||{}),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t,n=e(document).height(),r=this.$window.scrollTop(),o=this.$element.offset(),i=this.options.offset,l=i.bottom,s=i.top,a="affix affix-top affix-bottom";"object"!=typeof i&&(l=s=i),"function"==typeof s&&(s=i.top()),"function"==typeof l&&(l=i.bottom()),t=null!=this.unpin&&r+this.unpin<=o.top?!1:null!=l&&o.top+this.$element.height()>=n-l?"bottom":null!=s&&s>=r?"top":!1,this.affixed!==t&&(this.affixed=t,this.unpin="bottom"==t?o.top-r:null,this.$element.removeClass(a).addClass("affix"+(t?"-"+t:"")))}},e.fn.affix=function(n){return this.each(function(){var r=e(this),o=r.data("affix"),i="object"==typeof n&&n;o||r.data("affix",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function n(){r.trigger("closed").remove()}var r,o=e(this),i=o.attr("data-target");i||(i=o.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),r=e(i),t&&t.preventDefault(),r.length||(r=o.hasClass("alert")?o:o.parent()),r.trigger(t=e.Event("close")),t.isDefaultPrevented()||(r.removeClass("in"),e.support.transition&&r.hasClass("fade")?r.on(e.support.transition.end,n):n())},e.fn.alert=function(t){return this.each(function(){var r=e(this),o=r.data("alert");o||r.data("alert",o=new n(this)),"string"==typeof t&&o[t].call(r)})},e.fn.alert.Constructor=n,e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),o=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[o]()),n[o](r[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")},e.fn.button=function(n){return this.each(function(){var r=e(this),o=r.data("button"),i="object"==typeof n&&n;o||r.data("button",o=new t(this,i)),"toggle"==n?o.toggle():n&&o.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=n,this.options.slide&&this.slide(this.options.slide),"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){return t||(this.paused=!1),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),o=r.index(n),i=this;if(!(t>r.length-1||0>t))return this.sliding?this.$element.one("slid",function(){i.to(t)}):o==t?this.pause().cycle():this.slide(t>o?"next":"prev",e(r[t]))},pause:function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle()),clearInterval(this.interval),this.interval=null,this},next:function(){return this.sliding?void 0:this.slide("next")},prev:function(){return this.sliding?void 0:this.slide("prev")},slide:function(t,n){var r,o=this.$element.find(".item.active"),i=n||o[t](),l=this.interval,s="next"==t?"left":"right",a="next"==t?"first":"last",c=this;if(this.sliding=!0,l&&this.pause(),i=i.length?i:this.$element.find(".item")[a](),r=e.Event("slide",{relatedTarget:i[0]}),!i.hasClass("active")){if(e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(r),r.isDefaultPrevented())return;i.addClass(t),i[0].offsetWidth,o.addClass(s),i.addClass(s),this.$element.one(e.support.transition.end,function(){i.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)})}else{if(this.$element.trigger(r),r.isDefaultPrevented())return;o.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return l&&this.cycle(),this}}},e.fn.carousel=function(n){return this.each(function(){var r=e(this),o=r.data("carousel"),i=e.extend({},e.fn.carousel.defaults,"object"==typeof n&&n),l="string"==typeof n?n:i.slide;o||r.data("carousel",o=new t(this,i)),"number"==typeof n?o.to(n):l?o[l]():i.interval&&o.cycle()})},e.fn.carousel.defaults={interval:5e3,pause:"hover"},e.fn.carousel.Constructor=t,e(document).on("click.carousel.data-api","[data-slide]",function(t){var n,r=e(this),o=e(r.attr("data-target")||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),i=e.extend({},o.data(),r.data());o.carousel(i),t.preventDefault()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,o;if(!this.transitioning){if(t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in"),r&&r.length){if(o=r.data("collapse"),o&&o.transitioning)return;r.collapse("hide"),o||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])}},hide:function(){var t;this.transitioning||(t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var o=this,i=function(){"show"==n.type&&o.reset(),o.transitioning=0,o.$element.trigger(r)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,i):i())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},e.fn.collapse=function(n){return this.each(function(){var r=e(this),o=r.data("collapse"),i="object"==typeof n&&n;o||r.data("collapse",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n,r=e(this),o=r.attr("data-target")||t.preventDefault()||(n=r.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),i=e(o).data("collapse")?"toggle":r.data();r[e(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(o).collapse(i)})}(window.jQuery),!function(e){"use strict";function t(){e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,r=t.attr("data-target");return r||(r=t.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=e(r),n.length||(n=t.parent()),n}var r="[data-toggle=dropdown]",o=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var r,o,i=e(this);if(!i.is(".disabled, :disabled"))return r=n(i),o=r.hasClass("open"),t(),o||(r.toggleClass("open"),i.focus()),!1},keydown:function(t){var r,o,i,l,s;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(i=n(r),l=i.hasClass("open"),!l||l&&27==t.keyCode)return r.click();o=e("[role=menu] li:not(.divider) a",i),o.length&&(s=o.index(o.filter(":focus")),38==t.keyCode&&s>0&&s--,40==t.keyCode&&o.length-1>s&&s++,~s||(s=0),o.eq(s).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=o,e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",t).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",r,o.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),r?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),o=r.data("modal"),i=e.extend({},e.fn.modal.defaults,r.data(),"object"==typeof n&&n);o||r.data("modal",o=new t(this,i)),"string"==typeof n?o[n]():i.show&&o.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),i=o.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());t.preventDefault(),o.modal(i).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";function t(t,n){var r,o=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t);this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(r=e(t).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t,n=this;this.offsets=e([]),this.targets=e([]),t=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,r=n-this.$scrollElement.height(),o=this.offsets,i=this.targets,l=this.activeTarget;if(t>=r)return l!=(e=i.last()[0])&&this.activate(e);for(e=o.length;e--;)l!=i[e]&&t>=o[e]&&(!o[e+1]||o[e+1]>=t)&&this.activate(i[e])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}},e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),o=r.data("scrollspy"),i="object"==typeof n&&n;o||r.data("scrollspy",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t,n,r,o=this.element,i=o.closest("ul:not(.dropdown-menu)"),l=o.attr("data-target");l||(l=o.attr("href"),l=l&&l.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(t=i.find(".active:last a")[0],r=e.Event("show",{relatedTarget:t}),o.trigger(r),r.isDefaultPrevented()||(n=e(l),this.activate(o.parent("li"),i),this.activate(n,n.parent(),function(){o.trigger({type:"shown",relatedTarget:t})})))},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),l?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),l=r&&e.support.transition&&i.hasClass("fade");l?i.one(e.support.transition.end,o):o(),i.removeClass("in")}},e.fn.tab=function(n){return this.each(function(){var r=e(this),o=r.data("tab");o||r.data("tab",o=new t(this)),"string"==typeof n&&o[n]()})},e.fn.tab.Constructor=t,e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e,t=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in n)if(void 0!==t.style[e])return n[e]}();return e&&{end:e}}()})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.typeahead.defaults,n),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.$menu=e(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:t.top+t.height,left:t.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source,t?this.process(t):this)},process:function(t){var n=this;return t=e.grep(t,function(e){return n.matcher(e)}),t=this.sorter(t),t.length?this.render(t.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],r=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?r.push(t):o.push(t):n.push(t);return n.concat(r,o)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;return t=e(t).map(function(t,r){return t=e(n.options.item).attr("data-value",r),t.find("a").html(n.highlighter(r)),t[0]}),t.first().addClass("active"),this.$menu.html(t),this},next:function(){var t=this.$menu.find(".active").removeClass("active"),n=t.next();n.length||(n=e(this.$menu.find("li")[0])),n.addClass("active")},prev:function(){var e=this.$menu.find(".active").removeClass("active"),t=e.prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",e.proxy(this.keydown,this)),this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]),this.move(t)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},blur:function(){var e=this;setTimeout(function(){e.hide()},150)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active"),e(t.currentTarget).addClass("active")}},e.fn.typeahead=function(n){return this.each(function(){var r=e(this),o=r.data("typeahead"),i="object"==typeof n&&n;o||r.data("typeahead",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},e.fn.typeahead.Constructor=t,e(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);n.data("typeahead")||(t.preventDefault(),n.typeahead(n.data()))})}(window.jQuery),this.prelude=function(){function e(t,n){return t.length>1?function(){var r=n?n.concat():[];return r.push.apply(r,arguments)<t.length&&arguments.length?e.call(this,t,r):t.apply(this,r)}:t}function t(e,t){for(var n=0,r=t.length>>>0;r>n;)if(e===t[n++])return!0;return!1}function n(e){return function(){var t,n=arguments;for(t=e.length;t>0;--t)n=[e[t-1].apply(this,n)];return n[0]}}function r(e){return!e}function o(e,t){var n={}.hasOwnProperty;for(var r in t)n.call(t,r)&&(e[r]=t[r]);return e}exports={};var i,l,s,a,c,u,d,g,h,f,p,m,v,w,x,y,b,C,S,$,T,P,I,k,R,D,M,L,E,G,O,H,A,F,j,B,W,N,z,_,U,q,V,K,Q,J,X,Y,Z,et,tt,nt,rt,ot,it,lt,st,at,ct,ut,dt,gt,ht,ft,pt,mt,vt,wt,xt,yt,bt,Ct,St,$t,Tt,Pt,It,kt,Rt,Dt,Mt,Lt,Et,Gt,Ot,Ht,At,Ft,jt,Bt,Wt,Nt,zt,_t,Ut,qt,Vt,Kt,Qt,Jt,Xt,Yt,Zt,en={}.toString,tn=[].slice;return exports.objToFunc=i=function(e){return function(t){return e[t]}},exports.each=l=e(function(e,t){var n,r,o;if("Object"===en.call(t).slice(8,-1))for(n in t)r=t[n],e(r);else for(n=0,o=t.length;o>n;++n)r=t[n],e(r);return t}),exports.map=s=e(function(e,t){var n,r,o,l,s,a,c,u={};if("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),n=en.call(t).slice(8,-1),"Object"===n){for(r in t)o=t[r],u[r]=e(o);return u}for(l=[],s=0,a=t.length;a>s;++s)o=t[s],l.push(e(o));return c=l,"String"===n?c.join(""):c}),exports.filter=a=e(function(e,t){var n,r,o,l,s,a,c,u={};if("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),n=en.call(t).slice(8,-1),"Object"===n){for(r in t)o=t[r],e(o)&&(u[r]=o);return u}for(l=[],s=0,a=t.length;a>s;++s)o=t[s],e(o)&&l.push(o);return c=l,"String"===n?c.join(""):c}),exports.reject=c=e(function(e,t){var n,r,o,l,s,a,c,u={};if("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),n=en.call(t).slice(8,-1),"Object"===n){for(r in t)o=t[r],e(o)||(u[r]=o);return u}for(l=[],s=0,a=t.length;a>s;++s)o=t[s],e(o)||l.push(o);return c=l,"String"===n?c.join(""):c}),exports.partition=u=e(function(e,t){var n,r,o,l,s,a,c;if("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),n=en.call(t).slice(8,-1),"Object"===n){r={},o={};for(l in t)s=t[l],(e(s)?r:o)[l]=s}else{for(r=[],o=[],a=0,c=t.length;c>a;++a)s=t[a],(e(s)?r:o).push(s);"String"===n&&(r=r.join(""),o=o.join(""))}return[r,o]}),exports.find=d=e(function(e,t){var n,r,o;if("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),"Object"===en.call(t).slice(8,-1)){for(n in t)if(r=t[n],e(r))return r}else for(n=0,o=t.length;o>n;++n)if(r=t[n],e(r))return r}),exports.head=h=exports.first=g=function(e){return e.length?e[0]:void 0},exports.tail=f=function(e){return e.length?e.slice(1):void 0},exports.last=p=function(e){return e.length?e[e.length-1]:void 0},exports.initial=m=function(e){return e.length?e.slice(0,e.length-1):void 0},exports.empty=v=function(e){var t;if("Object"===en.call(e).slice(8,-1)){for(t in e)return!1;return!0}return!e.length},exports.values=w=function(e){var t,n,r=[];for(t in e)n=e[t],r.push(n);return r},exports.keys=x=function(e){var t,n=[];for(t in e)n.push(t);return n},exports.length=y=function(e){return"Object"===en.call(e).slice(8,-1)&&(e=w(e)),e.length},exports.cons=b=e(function(e,t){return"String"===en.call(t).slice(8,-1)?e+t:[e].concat(t)}),exports.append=C=e(function(e,t){return"String"===en.call(t).slice(8,-1)?e+t:e.concat(t)}),exports.join=S=e(function(e,t){return"Object"===en.call(t).slice(8,-1)&&(t=w(t)),t.join(e)}),exports.reverse=$=function(e){return"String"===en.call(e).slice(8,-1)?e.split("").reverse().join(""):e.slice().reverse()},exports.fold=P=exports.foldl=T=e(function(e,t,n){var r,o,i;if("Object"===en.call(n).slice(8,-1))for(r in n)o=n[r],t=e(t,o);else for(r=0,i=n.length;i>r;++r)o=n[r],t=e(t,o);return t}),exports.fold1=k=exports.foldl1=I=e(function(e,t){return P(e,t[0],t.slice(1))}),exports.foldr=R=e(function(e,t,n){return P(e,t,n.reverse())}),exports.foldr1=D=e(function(e,t){return t.reverse(),P(e,t[0],t.slice(1))}),exports.unfoldr=exports.unfold=M=e(function(e,t){var n;return null!=(n=e(t))?[n[0]].concat(M(e,n[1])):[]}),exports.andList=L=function(e){return P(function(e,t){return e&&t},!0,e)},exports.orList=E=function(e){return P(function(e,t){return e||t},!1,e)},exports.any=G=e(function(e,t){return"Function"!==en.call(e).slice(8,-1)&&(e=i(e)),P(function(t,n){return t||e(n)},!1,t)}),exports.all=O=e(function(e,t){return"Function"!==en.call(e).slice(8,-1)&&(e=i(e)),P(function(t,n){return t&&e(n)},!0,t)}),exports.unique=H=function(e){var n,r,o,i;if(n=[],"Object"===en.call(e).slice(8,-1))for(r in e)o=e[r],t(o,n)||n.push(o);else for(r=0,i=e.length;i>r;++r)o=e[r],t(o,n)||n.push(o);return"String"===en.call(e).slice(8,-1)?n.join(""):n},exports.sort=A=function(e){return e.concat().sort(function(e,t){switch(!1){case!(e>t):return 1;case!(t>e):return-1;default:return 0}})},exports.sortBy=F=e(function(e,t){return t.length?t.concat().sort(e):[]}),exports.compare=j=e(function(e,t,n){switch(!1){case!(e(t)>e(n)):return 1;case!(e(t)<e(n)):return-1;default:return 0}}),exports.sum=B=function(e){var t,n,r,o;if(t=0,"Object"===en.call(e).slice(8,-1))for(n in e)r=e[n],t+=r;else for(n=0,o=e.length;o>n;++n)r=e[n],t+=r;return t},exports.product=W=function(e){var t,n,r,o;if(t=1,"Object"===en.call(e).slice(8,-1))for(n in e)r=e[n],t*=r;else for(n=0,o=e.length;o>n;++n)r=e[n],t*=r;return t},exports.mean=z=exports.average=N=function(e){return B(e)/y(e)},exports.concat=_=function(e){return P(C,[],e)},exports.concatMap=U=e(function(e,t){return _(s(e,t))}),exports.listToObj=q=function(e){var t,n,r,o;for(t={},n=0,r=e.length;r>n;++n)o=e[n],t[o[0]]=o[1];return t},exports.maximum=V=function(e){return k(Ct,e)},exports.minimum=K=function(e){return k(St,e)},exports.scan=J=exports.scanl=Q=e(function(e,t,n){var r,o;return r=t,"Object"===en.call(n).slice(8,-1)?[t].concat(function(){var t,i,l=[];for(t in i=n)o=i[t],l.push(r=e(r,o));return l}()):[t].concat(function(){var t,i,l,s=[];for(t=0,l=(i=n).length;l>t;++t)o=i[t],s.push(r=e(r,o));return s}())}),exports.scan1=Y=exports.scanl1=X=e(function(e,t){return J(e,t[0],t.slice(1))}),exports.scanr=Z=e(function(e,t,n){return n.reverse(),J(e,t,n).reverse()}),exports.scanr1=et=e(function(e,t){return t.reverse(),J(e,t[0],t.slice(1)).reverse()}),exports.replicate=tt=e(function(e,t){var n,r;for(n=[],r=0;e>r;++r)n.push(t);return n}),exports.take=nt=e(function(e,t){switch(!1){case!(0>=e):return"String"===en.call(t).slice(8,-1)?"":[];case!!t.length:return t;default:return t.slice(0,e)}}),exports.drop=rt=e(function(e,t){switch(!1){case!(0>=e):return t;case!!t.length:return t;default:return t.slice(e)}}),exports.splitAt=ot=e(function(e,t){return[nt(e,t),rt(e,t)]}),exports.takeWhile=it=e(function(e,t){var n,r,o,l;if(!t.length)return t;for("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),n=[],r=0,o=t.length;o>r&&(l=t[r],e(l));++r)n.push(l);return"String"===en.call(t).slice(8,-1)?n.join(""):n}),exports.dropWhile=lt=e(function(e,t){var n,r,o,l;if(!t.length)return t;for("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),n=0,r=0,o=t.length;o>r&&(l=t[r],e(l));++r)++n;return rt(n,t)}),exports.span=st=e(function(e,t){return[it(e,t),lt(e,t)]}),exports.breakIt=at=e(function(e,t){return st(n([r,e]),t)}),exports.zip=ct=e(function(e,t){var n,r,o,i,l,s,a,c,u;for(n=[],r=0,i=(o=[e,t]).length;i>r;++r)for(l=o[r],s=0,a=l.length;a>s;++s)c=l[s],0===r&&n.push([]),null!=(u=n[s])&&u.push(c);return n}),exports.zipWith=ut=e(function(e,t,n){var r,o,l,s,a=[];if("Function"!==en.call(e).slice(8,-1)&&(e=i(e)),t.length&&n.length){for(r=0,l=(o=ct.call(this,t,n)).length;l>r;++r)s=o[r],a.push(e.apply(this,s));return a}return[]}),exports.zipAll=dt=function(){var e,t,n,r,o,i,l,s,a;for(e=tn.call(arguments),t=[],n=0,r=e.length;r>n;++n)for(o=e[n],i=0,l=o.length;l>i;++i)s=o[i],0===n&&t.push([]),null!=(a=t[i])&&a.push(s);return t},exports.zipAllWith=gt=function(e){var t,n,r,o,l,s=[];if(t=tn.call(arguments,1),"Function"!==en.call(e).slice(8,-1)&&(e=i(e)),t[0].length&&t[1].length){for(n=0,o=(r=dt.apply(this,t)).length;o>n;++n)l=r[n],s.push(e.apply(this,l));return s}return[]},exports.compose=ht=function(){var e;return e=tn.call(arguments),function(){var t,n,r,o,i;for(t=arguments,n=0,o=(r=e).length;o>n;++n)i=r[n],t=[i.apply(this,t)];return t[0]}},exports.curry=ft=function(t){return e(t)},exports.id=pt=function(e){return e},exports.flip=mt=e(function(e,t,n){return e(n,t)}),exports.fix=vt=function(e){return function(t){return function(){return e(t(t)).apply(null,arguments)}}(function(t){return function(){return e(t(t)).apply(null,arguments)}})},exports.lines=wt=function(e){return e.length?e.split("\n"):[]},exports.unlines=xt=function(e){return e.join("\n")},exports.words=yt=function(e){return e.length?e.split(/[ ]+/):[]},exports.unwords=bt=function(e){return e.join(" ")},exports.max=Ct=e(function(e,t){return e>t?e:t}),exports.min=St=e(function(e,t){return e>t?t:e}),exports.negate=$t=function(e){return-e},exports.abs=Tt=Math.abs,exports.signum=Pt=function(e){switch(!1){case!(0>e):return-1;case!(e>0):return 1;default:return 0}},exports.quot=It=e(function(e,t){return~~(e/t)}),exports.rem=kt=e(function(e,t){return e%t}),exports.div=Rt=e(function(e,t){return Math.floor(e/t)}),exports.mod=Dt=e(function(e,t){var n;return(e%(n=t)+n)%n}),exports.recip=Mt=function(e){return 1/e},exports.pi=Lt=Math.PI,exports.tau=Et=2*Lt,exports.exp=Gt=Math.exp,exports.sqrt=Ot=Math.sqrt,exports.ln=Ht=Math.log,exports.pow=At=e(function(e,t){return Math.pow(e,t)}),exports.sin=Ft=Math.sin,exports.tan=jt=Math.tan,exports.cos=Bt=Math.cos,exports.asin=Wt=Math.asin,exports.acos=Nt=Math.acos,exports.atan=zt=Math.atan,exports.atan2=_t=e(function(e,t){return Math.atan2(e,t)}),exports.truncate=Ut=function(e){return~~e},exports.round=qt=Math.round,exports.ceiling=Vt=Math.ceil,exports.floor=Kt=Math.floor,exports.isItNaN=Qt=function(e){return e!==e},exports.even=Jt=function(e){return 0===e%2},exports.odd=Xt=function(e){return 0!==e%2},exports.gcd=Yt=e(function(e,t){var n;for(e=Math.abs(e),t=Math.abs(t);0!==t;)n=e%t,e=t,t=n;return e}),exports.lcm=Zt=e(function(e,t){return Math.abs(Math.floor(e/Yt(e,t)*t))}),exports.installPrelude=function(e){var t;null!=(t=e.prelude)&&t.isInstalled||(o(e,exports),e.prelude.isInstalled=!0)},exports.prelude=exports,exports}(),jade=function(e){function t(e){return null!=e}return Array.isArray||(Array.isArray=function(e){return"[object Array]"==Object.prototype.toString.call(e)}),Object.keys||(Object.keys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}),e.merge=function(e,n){var r=e["class"],o=n["class"];(r||o)&&(r=r||[],o=o||[],Array.isArray(r)||(r=[r]),Array.isArray(o)||(o=[o]),r=r.filter(t),o=o.filter(t),e["class"]=r.concat(o).join(" "));for(var i in n)"class"!=i&&(e[i]=n[i]);return e},e.attrs=function(t,n){var r=[],o=t.terse;delete t.terse;var i=Object.keys(t),l=i.length;if(l){r.push("");for(var s=0;l>s;++s){var a=i[s],c=t[a];"boolean"==typeof c||null==c?c&&(o?r.push(a):r.push(a+'="'+a+'"')):0==a.indexOf("data")&&"string"!=typeof c?r.push(a+"='"+JSON.stringify(c)+"'"):"class"==a&&Array.isArray(c)?r.push(a+'="'+e.escape(c.join(" "))+'"'):n&&n[a]?r.push(a+'="'+e.escape(c)+'"'):r.push(a+'="'+c+'"')
}}return r.join(" ")},e.escape=function(e){return(e+"").replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(e,t,n){if(!t)throw e;var r=3,o=require("fs").readFileSync(t,"utf8"),i=o.split("\n"),l=Math.max(n-r,0),s=Math.min(i.length,n+r),r=i.slice(l,s).map(function(e,t){var r=t+l+1;return(r==n?"  > ":"    ")+r+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Jade")+":"+n+"\n"+r+"\n\n"+e.message,e},e}({});var diffview=function(e){"use strict";var t=0,n=0,r="string"==typeof e.baseTextLines?e.baseTextLines:"Error: Cannot build diff view; baseTextLines is not defined.",o="string"==typeof e.newTextLines?e.newTextLines:"Error: Cannot build diff view; newTextLines is not defined.",i="string"==typeof e.baseTextName?e.baseTextName:"Base Source",l="string"==typeof e.newTextName?e.newTextName:"New Source",s=/^([0-9]+)$/.test(e.contextSize)?Number(e.contextSize):-1,a=/^([0-9]+)$/.test(e.tsize)?Number(e.tsize):4,c="string"==typeof e.tchar?e.tchar:" ",u=e.inline===!0?!0:!1,d=function(){var e=0,t=[];if(""===c)return"";for(e=0;a>e;e+=1)t.push(c);return t.join("")}(),g=function(e){var t=e.indexOf("\n"),n=e.indexOf("\r"),r=t>-1&&n>-1||0>n?"\n":"\r",o=e.replace(/\&/g,"&amp;").replace(/\$#lt;/g,"%#lt;").replace(/\$#gt;/g,"%#gt;").replace(/</g,"$#lt;").replace(/>/g,"$#gt;");return e="\n"===r?e.replace(/\r/g,""):e.replace(/\n/g,""),o.split(r)},h=g(r),f=g(o),p=function(){var e={},t=function(t){return e.hasOwnProperty(t)?e[t]:void 0},n=[],r=[],o=!1,i=[],l=[],s=[],a=function(){for(var e=0,o=0,s=0,a=0,c=0,u=0,d=[],g=0,h=0,f=0,p=[],m=0,v=0,w=0,x=0,y=0,b=0,C=n.length,S=r.length,$=[[0,C,0,S]],T=[],P=function(e,t){var n=0,r=Math.max(e.length,t.length);for(n=0;r>n;n+=1){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return e.length===t.length?0:e.length<t.length?-1:1},I=function(e,o,i,s){var a=0,c=l.length,u=0,d=0,g=0,h=[0,0],f=e,p=i,m=0;for(u=e;o>u;u+=1){for(a=0;c>a;a+=1)if(l[a][1]===n[u]&&(l[a][0]===u||n[u]!==r[u]||u===o-1||n[u+1]===r[u+1])){d=l[a][0];break}if(a!==c){if(d>=i){if(d>=s)break;g=h[0]===d-1?h[1]+1:1,g>m&&(f=u-g+1,p=d-g+1,m=g)}h=[d,g]}}for(;f>e&&p>i&&!t(r[p-1])&&n[f-1]===r[p-1];)f-=1,p-=1,m+=1;for(;o>f+m&&s>p+m&&!t(r[p+m])&&n[f+m]===r[p+m];)m+=1;for(;f>e&&p>i&&t(r[p-1])&&n[f-1]===r[p-1];)f-=1,p-=1,m+=1;for(;o>f+m&&s>p+m&&t(r[p+m])&&n[f+m]===r[p+m];)m+=1;return[f,p,m]};$.length;)d=$.pop(),s=d[0],a=d[1],c=d[2],u=d[3],p=I(s,a,c,u),g=p[0],h=p[1],f=p[2],f>0&&(i.push(p),g>s&&h>c&&$.push([s,g,c,h]),a>g+f&&u>h+f&&$.push([g+f,a,h+f,u]));for(i.sort(P),o=i.length,e=0;o>e;e+=1)v=i[e][0],x=i[e][1],b=i[e][2],m+y===v&&w+y===x?y+=b:(y&&T.push([m,w,y]),m=v,w=x,y=b);return y&&T.push([m,w,y]),T.push([C,S,0]),T};return function(){(function(){h.length>f.length?(o=!0,n=f,r=h):(n=h,r=f)})(),function(){var e=0,t=0,n="",o=r.length;for(e=0;o>e;e+=1){for(n=r[e],t=l.length-1;t>-1&&l[t][1]!==n;t-=1);t>-1?o>=200&&100>o&&l.splice(t,1):l.push([e,n])}}(),function(){var e=0,t=0,i=0,l="",c=0,u=0,d=0,g=a(),h=g.length,f=function(e,t,n){var r=function(e,t){var n=e.replace(/^(\s+)/,"").split(""),r=Math.min(n.length,t.length),o=0;for(o=0;r>o;o+=1)if(n[o]!==t[o])return o;return o},o=n.replace(/^(\s+)/,"").split(""),i=r(t,o)-r(e,o);return i>0?!0:!1};for(c=0;h>c;c+=1)e=g[c][0],t=g[c][1],i=g[c][2],l="",e>u&&t>d?u-d!==e-t&&3>d-t&&3>u-e?o&&u-e>d-t?f(r[d],r[d+1],n[u])?(s.push(["delete",d,d+1,u,u]),s.push(["replace",d+1,t,u,e])):s.push(["replace",d,t,u,e]):!o&&t-d>e-u?f(r[d],r[d+1],n[u])?(s.push(["insert",u,u,d,d+1]),s.push(["replace",u,e,d+1,t])):s.push(["replace",u,e,d,t]):l="replace":l="replace":e>u?l=o?"insert":"delete":t>d&&(l=o?"delete":"insert"),""!==l&&(o?s.push([l,d,t,u,e]):s.push([l,u,e,d,t])),u=e+i,d=t+i,i>0&&(o?s.push(["equal",t,d,e,u]):s.push(["equal",e,u,t,d]))}()}(),s}();return function(){var e=["<table class='diff'><thead><tr>"],r=0,o=0,a=0,c=0,g=0,m=0,v=0,w=0,x=""===d?"":RegExp("^(("+d.replace(/\\/g,"\\")+")+)"),y=function(e){var t=0,n=e.length,r=[];for(t=0;n>t;t+=1)r.push(e[t].replace(x,""));return r},b=""===d?[]:y(h),C=""===d?[]:y(f),S=p.length,$="",T=!1,P=!1,I=!0,k=[],R=[],D=function(e,n){var r=!1,o=0,i=0,l=0,s=[],a=[],c="",u="",g=[],h=[],f=0,p=function(){},m=function(){},v=function(){return t-=1,""},w=e.replace(/\'/g,"$#39;").replace(/\"/g,"$#34;").replace(/\&nbsp;/g," ").replace(/\&#160;/g," "),y=n.replace(/\'/g,"$#39;").replace(/\"/g,"$#34;").replace(/\&nbsp;/g," ").replace(/\&#160;/g," ");if(w===y)return[e,n];if("\r"===w.charAt(w.length-1)&&"\r"!==y.charAt(y.length-1)?(w=w.substring(0,w.length-1),c="<em>\\r</em>",u="<em></em>",t+=1):"\r"===y.charAt(y.length-1)&&"\r"!==w.charAt(w.length-1)&&(y=y.substring(0,y.length-1),u="<em>\\r</em>",c="<em></em>",t+=1),""!==x&&w.length!==y.length&&w.replace(x,"")===y.replace(x,""))return function(){var t=w.split(d),r=y.split(d),o=0,i=t.length,s=r.length,a=0;for(o=0;i>o&&0===t[o].length;o+=1)t[o]=d;for(a=0;s>a&&0===r[a].length;a+=1)r[a]=d;return i>s?(l=i-s,f=o-l,t[f]="<em>"+t[f],t[f+l]="</em>"+t[f+l],r[a]="<em></em>"+r[a]):(l=s-i,f=a-l,t[o]="<em></em>"+t[o],r[f]="<em>"+r[f],r[f+l]="</em>"+r[f+l]),e=t.join("").replace(/\$#34;/g,'"').replace(/\$#39;/g,"'"),n=r.join("").replace(/\$#34;/g,'"').replace(/\$#39;/g,"'"),[e,n]}();for(t-=1,s=w.split(""),a=y.split(""),f=Math.max(s.length,a.length),p=function(e){var t=e.length,n=[];for(r=0;t>r;r+=1)"$#gt;"===e[r]+e[r+1]+e[r+2]+e[r+3]+e[r+4]?(e[r]="$#gt;",e[r+1]="",e[r+2]="",e[r+3]="",e[r+4]=""):"$#lt;"===e[r]+e[r+1]+e[r+2]+e[r+3]+e[r+4]?(e[r]="$#lt;",e[r+1]="",e[r+2]="",e[r+3]="",e[r+4]=""):"&amp;"===e[r]+e[r+1]+e[r+2]+e[r+3]+e[r+4]?(e[r]="&amp;",e[r+1]="",e[r+2]="",e[r+3]="",e[r+4]=""):"$#34;"===e[r]+e[r+1]+e[r+2]+e[r+3]+e[r+4]?(e[r]="&#34;",e[r+1]="",e[r+2]="",e[r+3]="",e[r+4]=""):"$#39;"===e[r]+e[r+1]+e[r+2]+e[r+3]+e[r+4]&&(e[r]="&#39;",e[r+1]="",e[r+2]="",e[r+3]="",e[r+4]="");for(r=0;t>r;r+=1)""!==e[r]&&void 0!==e[r]&&n.push(e[r]);return n},s=p(s),a=p(a),r=!1,function(){var r=e,i=n,l=d,c=RegExp("^("+l+")+"),u=0===r.search(c)?r.match(c):[""],g=0===i.search(c)?i.match(c):[""],h=[],p=[],m=0,v=0,w=[0,0],x=!1,y=[u[0].length,g[0].length];for(""!==u[0]&&(r=r.substr(y[0])),""!==g[0]&&(i=i.substr(y[1])),y[0]>y[1]&&(m=y[0]-y[1],u[0]=u[0].substring(0,y[0]-m)+"<em>"+u[0].substr(y[0]-m)+"</em>",g[0]=g[0]+"<em></em>",t+=1),y[0]<y[1]&&(m=y[1]-y[0],g[0]=g[0].substring(0,y[1]-m)+"<em>"+g[0].substr(y[1]-m)+"</em>",u[0]=u[0]+"<em></em>",t+=1),h=r.split(" "),p=i.split(" "),v=Math.max(h.length,p.length),w[0]+=h[0].length,w[1]+=p[0].length,m=1;v>m;m+=1){if(h[m]!==p[m]&&"string"==typeof h[m]&&"string"==typeof p[m])if(h[m+1]===p[m])h[m]="<em> "+h[m]+"</em>",p.splice(m,0,"<em></em>"),h.length>=p.length&&(v+=1),x=!0,t+=1;else{if(h[m]!==p[m+1])break;p[m]="<em> "+p[m]+"</em>",h.splice(m,0,"<em></em>"),h.length<=p.length&&(v+=1),x=!0,t+=1}else{if("string"!=typeof h[m]||"string"!=typeof p[m])break;h[m]=" "+h[m],p[m]=" "+p[m]}w[0]+=h[m].length,w[1]+=p[m].length}if(x!==!1)if(m===v)"string"==typeof h[v]&&(h[v]=" "+h[v]),"string"==typeof p[v]&&(p[v]=" "+p[v]),h.length>p.length?(h[v]="<em>"+h[v],h[h.length-1]=h[h.length-1]+"</em>"):h.length<p.length&&(p[v]="<em>"+p[v],p[p.length-1]=p[p.length-1]+"</em>"),h.splice(0,0,u[0]),p.splice(0,0,g[0]),s=h,a=p,o=f;else{for(v=Math.max(h.length,p.length),m;v>m;m+=1)h[m]="string"==typeof h[m]?" "+h[m]:"",p[m]="string"==typeof p[m]?" "+p[m]:"";if(s=h.join("").split(""),a=p.join("").split(""),w[0]!==w[1])do w[0]>w[1]?(w[1]+=1,a.splice(0,0,"")):(w[0]+=1,s.splice(0,0,""));while(w[0]!==w[1]);s.splice(0,0,u[0]),a.splice(0,0,g[0]),o=w[0],f=Math.max(s.length,a.length)}}(),m=function(){var e=/<em>/g,n=0,i=0,c=0,u=0,d=[],p=!1,m=[],v=[],w=g[g.length-1],x=h[h.length-1],y=!1;if(""!==w&&w===h[h.length-2]&&g.length>0&&w.length>0&&w.indexOf("<em>")<w.indexOf("</em>")&&w.lastIndexOf("<em>")<w.lastIndexOf("</em>")){for(n=o;n>-1&&!(s[n].indexOf("</em>")>-1&&(s[n]=s[n].replace("</em>",""),a[n].indexOf("<em></em>")>-1?(a[n]=a[n].replace("<em></em>",""),y=!0):y===!0?a[n+1]=a[n+1].replace("</em>","<em></em>"):a[n]=a[n].replace("</em>",""),p===!0));n-=1)s[n].indexOf("<em>")>-1&&(s[n]=s[n].replace("<em>",""),a[n]=a[n].replace("<em>",""),p=!0);s[o-2]=s[o-2]+"</em>","string"==typeof a[n-1]&&a[n-1].indexOf("<em>")===a[n-1].length-4&&0>a[n].indexOf("</em>")&&(a[n-1]=a[n-1]+"</em>"),t-=1,p=!1,y=!1}else if(""!==x&&x===g[g.length-2]&&h.length>0&&x.length>0&&x.indexOf("<em>")<x.indexOf("</em>")&&x.lastIndexOf("<em>")<x.lastIndexOf("</em>")){for(n=o;n>-1&&!(a[n].indexOf("</em>")>-1&&(a[n]=a[n].replace("</em>",""),s[n].indexOf("<em></em>")>-1?(s[n]=s[n].replace("<em></em>",""),y=!0):y===!0?s[n+1]=s[n+1].replace("</em>","<em></em>"):s[n]=s[n].replace("</em>",""),p===!0));n-=1)a[n].indexOf("<em>")>-1&&(a[n]=a[n].replace("<em>",""),s[n]=s[n].replace("<em>",""),p=!0);a[o-2]=a[o-2]+"</em>","string"==typeof s[n-1]&&s[n-1].indexOf("<em>")===s[n-1].length-4&&0>s[n].indexOf("</em>")&&(s[n-1]=s[n-1]+"</em>"),t-=1,p=!1,y=!1}for(n=o;f>n;n+=1)if(s[n]===a[n])l=n;else if(r||s[n]===a[n]||e.test(s[n])||e.test(a[n])||e.test(s[n-1])||e.test(a[n-1]))void 0!==s[n]||""!==a[n]&&" "!==a[n]?void 0!==a[n]||""!==s[n]&&" "!==s[n]||(a[n]=""):s[n]="";else{if(0===n||"string"==typeof s[n-1]&&"string"==typeof a[n-1]){0===n?(s[n]="<em>"+s[n],a[n]="<em>"+a[n]):(s[n-1]=s[n-1]+"<em>",a[n-1]=a[n-1]+"<em>"),t+=1,r=!0;break}if("string"!=typeof s[n-1]&&"string"==typeof a[n-1]){s[n-1]="<em>",a[n-1]=a[n]+"<em>",t+=1,r=!0;break}if("string"==typeof s[n-1]&&"string"!=typeof a[n-1]){s[n-1]=s[n]+"<em>",a[n-1]="<em>",t+=1,r=!0;break}}if(n===f)return l=n+1,void 0;for(i=n;f>i;i+=1){if("string"==typeof s[i]&&"string"!=typeof a[i])a[i]="";else if("string"!=typeof s[i]&&"string"==typeof a[i])s[i]="";else if(r===!0){for(u=i;f>u;u+=1){for(c=u-1;c>i;c-=1){if(s[c]===a[u]){if(c>s.length-1)do s.push("");while(c>s.length-1);s[c-1]=s[c-1]+"</em>",a[u-1]=a[u-1]+"</em>",o=u,d=[];do d.push(""),u-=1;while(u>c);s=d.concat(s),r=!1,m.push(s[u]),v.push(a[u]);break}if(a[c]===s[u]){if(c>a.length-1)do a.push("");while(c>a.length-1);a[c-1]=a[c-1]+"</em>",s[u-1]=s[u-1]+"</em>",o=u,d=[];do d.push(""),u-=1;while(u>c);a=d.concat(a),r=!1,m.push(s[u]),v.push(a[u]);break}}if(m.push(s[u]),v.push(a[u]),!r)break;if(s[u]===a[u]&&"string"==typeof s[u]){s[u-1]=s[u-1]+"</em>",a[u-1]=a[u-1]+"</em>",o=u,r=!1;break}if(s[i-1]==="<em>"+a[u]&&e.test(a[i-1])&&(0>i-2||s[i-2]!==a[u+1])){if(s[i-1]=s[i-1].replace(e,""),s.splice(i-1,0,"<em></em>"),a[u-1]=a[u-1]+"</em>",o=u,u-i>0){for(d=[],u;u>i;u-=1)d.push("");s=d.concat(s)}r=!1;break}if(a[i-1]==="<em>"+s[u]&&e.test(s[i-1])&&(0>i-2||a[i-2]!==s[u+1])){if(a[i-1]=a[i-1].replace(e,""),a.splice(i-1,0,"<em></em>"),s[u-1]=s[u-1]+"</em>",o=u,u-i>0){for(d=[],u;u>i;u-=1)d.push("");a=d.concat(a)}r=!1;break}if(a[i]===s[u]&&(")"!==s[u-1]&&"}"!==s[u-1]&&"]"!==s[u-1]&&">"!==s[u-1]&&")"!==a[i-1]&&"}"!==a[i-1]&&"]"!==a[i-1]&&">"!==a[i-1]||u===f-1||a[i+1]===s[u+1])){if(a[i-1]==="<em>"+s[u-1]){a[i-1]=a[i-1].replace(/<em>/,"<em></em>"),s[u-1]=s[u-1]+"</em>",o=i,r=!1;break}if(s.length>a.length&&s[u-1].substr(4)===a[i-1]?(s[u-2]=s[u-2]+"</em>",a[i-2]=a[i-2]+"<em></em>",a[i-1]=a[i-1].replace(/<em>/,"")):s[u-1]===a[i-1]||e.test(s[u-1])?(s[u-1]=1===u?s[u-1]+"</em>":"</em>"+s[u-1],a[i-1]=1===i?a[i-1]+"</em>":"</em>"+a[i-1]):(s[u-1]=s[u-1]+"</em>",a[i-1]="string"==typeof a[i-1]?a[i-1]+"</em>":"</em>"),o=u,u-i>0){for(d=[],u;u>i;u-=1)d.push("");a=d.concat(a)}r=!1;break}if(s[i]===a[u]&&(")"!==a[u-1]&&"}"!==a[u-1]&&"]"!==a[u-1]&&">"!==a[u-1]&&")"!==s[i-1]&&"}"!==s[i-1]&&"]"!==s[i-1]&&">"!==s[i-1]||u===f-1||s[i+1]===a[u+1])){if(s[i-1]==="<em>"+a[u-1]){s[i-1]=s[i-1].replace(/<em>/,"<em></em>"),a[u-1]=a[u-1]+"</em>",o=i,r=!1;break}if(a.length>s.length&&a[u-1].substr(4)===s[i-1]?(a[u-2]=a[u-2]+"</em>",s[i-2]=s[i-2]+"<em></em>",s[i-1]=s[i-1].replace(/<em>/,"")):a[u-1]===s[i-1]||e.test(a[u-1])?(a[u-1]=1===u?a[u-1]+"</em>":"</em>"+a[u-1],s[i-1]=1===i?s[i-1]+"</em>":"</em>"+s[i-1]):(a[u-1]=a[u-1]+"</em>",s[i-1]="string"==typeof s[i-1]?s[i-1]+"</em>":"</em>"),o=u,u-i>0){for(d=[],u;u>i;u-=1)d.push("");s=d.concat(s)}r=!1;break}}if(r){for(u=i+1;f-1>u;u+=1)if(m.push(s[u]),v.push(a[u]),"string"!=typeof s[u])s.push("");else if("string"!=typeof a[u])a.push("");else if(s[u]===a[u]&&"string"==typeof s[u-1]&&"string"==typeof a[u-1]){s[u-1]=s[u-1]+"</em>",a[u-1]=a[u-1]+"</em>",o=u,r=!1,p=!0;break}if(p){p=!1;break}}}f=Math.max(s.length,a.length)}i>u?(g.push(m.join("")),h.push(v.join(""))):(g.push(s.slice(n,u).join("")),h.push(a.slice(n,u).join(""))),i===f&&(l+=1)},i=0;f>i&&!(l>f-1);i+=1)m();return e=s.join("").replace(/\$#34;/g,'"').replace(/\$#39;/g,"'").replace(/<\/em><em>/g,v),n=a.join("").replace(/\$#34;/g,'"').replace(/\$#39;/g,"'").replace(/<\/em><em>/g,""),r&&(e.split("<em>").length>e.split("</em>").length&&(e+="</em>"),n.split("<em>").length>n.split("</em>").length&&(n+="</em>")),e+=c,n+=u,[e,n]};for(u?(e.push("<th class='texttitle' colspan='3'>"),e.push(i),e.push(" vs. "),e.push(l),e.push("</th></tr></thead><tbody>")):(e.push("<th class='texttitle' colspan='2'>"),e.push(i),e.push("</th><th class='texttitle' colspan='2'>"),e.push(l),e.push("</th></tr></thead><tbody>")),r=0;S>r;r+=1)for(k=p[r],$=k[0],o=k[1],a=k[2],c=k[3],g=k[4],m=Math.max(a-o,g-c),I=!0,v=0;m>v&&!(!isNaN(s)&&s>-1&&p.length>1&&(r>0&&v===s||0===r&&0===v)&&"equal"===$&&(I=!1,w=m-(0===r?1:2)*s,w>1&&(e.push("<tr><th>...</th>"),u||e.push("<td class='skip'></td>"),e.push("<th>...</th><td class='skip'></td></tr>"),o+=w,c+=w,v+=w-1,r+1===p.length)));v+=1)"equal"!==$&&(n+=1),e.push("<tr>"),""!==d&&(T||h[a]===f[g]||"string"!=typeof h[o+1]||"string"!=typeof f[c]||b[o+1]!==C[c]||b[o]===C[c]||"string"==typeof f[c-1]&&b[o]===C[c-1]?P||h[a]===f[g]||"string"!=typeof f[c+1]||"string"!=typeof h[o]||C[c+1]!==b[o]||C[c]===b[o]||"string"==typeof h[o-1]&&C[c]===b[o-1]||(P=!0):T=!0),u?(P||"insert"===$?(e.push("<th></th><th>"),e.push(c+1),e.push("</th><td class='insert'>"),e.push(f[c]),e.push("</td></tr>")):T||"delete"===$?(e.push("<th>"),e.push(o+1),e.push("</th><th></th><td class='delete'>"),e.push(h[o]),e.push("</td></tr>")):"replace"===$?(a>o&&g>c&&h[o]!==f[c]&&(R=D(h[o],f[c])),a>o&&(e.push("<th>"),e.push(o+1),e.push("</th><th></th><td class='delete'>"),g>c?e.push(R[0]):e.push(h[o]),e.push("</td></tr>")),a>o&&g>c&&e.push("<tr>"),g>c&&(e.push("<th></th><th>"),e.push(c+1),e.push("</th><td class='insert'>"),a>o?e.push(R[1]):e.push(f[c]),e.push("</td></tr>"))):(a>o||g>c)&&(e.push("<th>"),e.push(o+1),e.push("</th><th>"),e.push(c+1),e.push("</th><td class='"),e.push($),e.push("'>"),e.push(h[o]),e.push("</td></tr>")),T?(o+=1,T=!1):P?(c+=1,P=!1):(o+=1,c+=1)):(T||P||"string"!=typeof h[o]||"string"!=typeof f[c]?T||"string"==typeof h[o]&&"string"!=typeof f[c]?(e.push("<th>"),e.push(o+1),e.push("</th><td class='delete'>"),e.push(h[o]),e.push("</td>"),e.push("<th></th><td class='empty'></td>"),T=!1,o+=1):(P||"string"!=typeof h[o]&&"string"==typeof f[c])&&(e.push("<th></th><td class='empty'></td>"),e.push("<th>"),e.push(c+1),e.push("</th><td class='insert'>"),e.push(f[c]),e.push("</td>"),P=!1,c+=1):(R="replace"===$&&a>o&&g>c&&h[o]!==f[c]?D(h[o],f[c]):[],a>o?(e.push("<th>"),e.push(o+1),e.push("</th><td class='"),c>=g?e.push("delete"):e.push($),e.push("'>"),2===R.length?e.push(R[0]):e.push(h[o]),e.push("</td>")):I&&e.push("<th></th><td class='empty'></td>"),g>c?(e.push("<th>"),e.push(c+1),e.push("</th><td class='"),o>=a?e.push("insert"):e.push($),e.push("'>"),2===R.length?e.push(R[1]):e.push(f[c]),e.push("</td>")):I&&e.push("<th></th><td class='empty'></td>"),a>o&&(o+=1),g>c&&(c+=1)),e.push("</tr>"));return e.push("</tbody><tfoot><tr><th class='author' colspan='"),u?e.push("3"):e.push("4"),e.push("'>Original diff view created by <a href='https://github.com/cemerick/jsdifflib'>jsdifflib</a>. Diff view rewritten by <a href='http://prettydiff.com/'>Austin Cheney</a>.</th></tr></tfoot></table>"),[e.join("").replace(/\$#gt;/g,"&gt;").replace(/\$#lt;/g,"&lt;").replace(/\%#lt;/g,"$#lt;").replace(/\%#gt;/g,"$#gt;"),t,n]}()},CryptoJS=CryptoJS||function(e,t){var n={},r=n.lib={},o=r.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.$super.extend(this)}}}(),i=r.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,e=e.sigBytes;if(this.clamp(),r%4)for(var o=0;e>o;o++)t[r+o>>>2]|=(255&n[o>>>2]>>>24-8*(o%4))<<24-8*((r+o)%4);else if(n.length>65535)for(o=0;e>o;o+=4)t[r+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-8*(n%4),t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],r=0;t>r;r+=4)n.push(0|4294967296*e.random());return i.create(n,t)}}),l=n.enc={},s=l.Hex={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],r=0;e>r;r++){var o=255&t[r>>>2]>>>24-8*(r%4);n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-4*(r%8);return i.create(n,t/2)}},a=l.Latin1={stringify:function(e){for(var t=e.words,e=e.sigBytes,n=[],r=0;e>r;r++)n.push(String.fromCharCode(255&t[r>>>2]>>>24-8*(r%4)));return n.join("")},parse:function(e){for(var t=e.length,n=[],r=0;t>r;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-8*(r%4);return i.create(n,t)}},c=l.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},u=r.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=i.create(),this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,o=n.sigBytes,l=this.blockSize,s=o/(4*l),s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0),t=s*l,o=e.min(4*t,o);if(t){for(var a=0;t>a;a+=l)this._doProcessBlock(r,a);a=r.splice(0,t),n.sigBytes-=o}return i.create(a,o)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=u.extend({init:function(){this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize(),this._hash},clone:function(){var e=u.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:16,_createHelper:function(e){return function(t,n){return e.create(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return d.HMAC.create(e,n).finalize(t)}}});var d=n.algo={};return n}(Math);(function(e){function t(e,t,n,r,o,i,l){return e=e+(t&n|~t&r)+o+l,(e<<i|e>>>32-i)+t}function n(e,t,n,r,o,i,l){return e=e+(t&r|n&~r)+o+l,(e<<i|e>>>32-i)+t}function r(e,t,n,r,o,i,l){return e=e+(t^n^r)+o+l,(e<<i|e>>>32-i)+t}function o(e,t,n,r,o,i,l){return e=e+(n^(t|~r))+o+l,(e<<i|e>>>32-i)+t}var i=CryptoJS,l=i.lib,s=l.WordArray,l=l.Hasher,a=i.algo,c=[];(function(){for(var t=0;64>t;t++)c[t]=0|4294967296*e.abs(e.sin(t+1))})(),a=a.MD5=l.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,i){for(var l=0;16>l;l++){var s=i+l,a=e[s];e[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}for(var s=this._hash.words,a=s[0],u=s[1],d=s[2],g=s[3],l=0;64>l;l+=4)16>l?(a=t(a,u,d,g,e[i+l],7,c[l]),g=t(g,a,u,d,e[i+l+1],12,c[l+1]),d=t(d,g,a,u,e[i+l+2],17,c[l+2]),u=t(u,d,g,a,e[i+l+3],22,c[l+3])):32>l?(a=n(a,u,d,g,e[i+(l+1)%16],5,c[l]),g=n(g,a,u,d,e[i+(l+6)%16],9,c[l+1]),d=n(d,g,a,u,e[i+(l+11)%16],14,c[l+2]),u=n(u,d,g,a,e[i+l%16],20,c[l+3])):48>l?(a=r(a,u,d,g,e[i+(3*l+5)%16],4,c[l]),g=r(g,a,u,d,e[i+(3*l+8)%16],11,c[l+1]),d=r(d,g,a,u,e[i+(3*l+11)%16],16,c[l+2]),u=r(u,d,g,a,e[i+(3*l+14)%16],23,c[l+3])):(a=o(a,u,d,g,e[i+3*l%16],6,c[l]),g=o(g,a,u,d,e[i+(3*l+7)%16],10,c[l+1]),d=o(d,g,a,u,e[i+(3*l+14)%16],15,c[l+2]),u=o(u,d,g,a,e[i+(3*l+5)%16],21,c[l+3]));s[0]=0|s[0]+a,s[1]=0|s[1]+u,s[2]=0|s[2]+d,s[3]=0|s[3]+g},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;for(t[r>>>5]|=128<<24-r%32,t[(r+64>>>9<<4)+14]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process(),e=this._hash.words,t=0;4>t;t++)n=e[t],e[t]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}}),i.MD5=l._createHelper(a),i.HmacMD5=l._createHmacHelper(a)})(Math),function(e,t){"use strict";var n=6,r=4,o="asc",i="desc",l="_ng_field_",s="_ng_depth_",a="_ng_hidden_",c="_ng_column_",u=/CUSTOM_FILTERS/g,d=/COL_FIELD/g,g=/DISPLAY_CELL_TEMPLATE/g,h=/EDITABLE_CELL_TEMPLATE/g,f=/<.+>/;e.ngGrid={},e.ngGrid.i18n={};var p=angular.module("ngGrid.services",[]),m=angular.module("ngGrid.directives",[]),v=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var w=function(e,t,r,o){if(void 0===e.selectionProvider.selectedItems)return!0;var i,l=r.which||r.keyCode,s=!1,a=!1,c=e.selectionProvider.lastClickedRow.rowIndex,u=e.columns.filter(function(e){return e.visible}),d=e.columns.filter(function(e){return e.pinned});if(e.col&&(i=u.indexOf(e.col)),37!=l&&38!=l&&39!=l&&40!=l&&9!=l&&13!=l)return!0;if(e.enableCellSelection){9==l&&r.preventDefault();var g=e.showSelectionCheckbox?1==e.col.index:0==e.col.index,h=1==e.$index||0==e.$index,f=e.$index==e.renderedColumns.length-1||e.$index==e.renderedColumns.length-2,p=u.indexOf(e.col)==u.length-1,m=d.indexOf(e.col)==d.length-1;if(37==l||9==l&&r.shiftKey){var v=0;g||(i-=1),h?g&&9==l&&r.shiftKey?(v=o.$canvas.width(),i=u.length-1,a=!0):v=o.$viewport.scrollLeft()-e.col.width:d.length>0&&(v=o.$viewport.scrollLeft()-u[i].width),o.$viewport.scrollLeft(v)}else(39==l||9==l&&!r.shiftKey)&&(f?p&&9==l&&!r.shiftKey?(o.$viewport.scrollLeft(0),i=e.showSelectionCheckbox?1:0,s=!0):o.$viewport.scrollLeft(o.$viewport.scrollLeft()+e.col.width):m&&o.$viewport.scrollLeft(0),p||(i+=1))}var w;w=e.configGroups.length>0?o.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):o.filteredRows;var x=0;if(0!=c&&(38==l||13==l&&r.shiftKey||9==l&&r.shiftKey&&a)?x=-1:c!=w.length-1&&(40==l||13==l&&!r.shiftKey||9==l&&s)&&(x=1),x){var y=w[c+x];y.beforeSelectionChange(y,r)&&(y.continueSelection(r),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-n-2?o.$viewport.scrollTop(o.$viewport.scrollTop()+e.rowHeight):n+2>=e.selectionProvider.lastClickedRow.renderedRowIndex&&o.$viewport.scrollTop(o.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(u[i]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments[1],i=0;n>i;i++)if(i in t){var l=t[i];e.call(o,l,i,t)&&r.push(l)}return r}),v.filter("checkmark",function(){return function(e){return e?"✔":"✘"}}),v.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),p.factory("$domUtilityService",["$utilityService",function(e){var n={},r={},o=function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),n.ScrollH=e.height()-e[0].clientHeight,n.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),n.LetterW=e.children().first().width(),e.remove()};return n.eventStorage={},n.AssignGridContainers=function(e,r,o){o.$root=t(r),o.$topPanel=o.$root.find(".ngTopPanel"),o.$groupPanel=o.$root.find(".ngGroupPanel"),o.$headerContainer=o.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=o.$headerContainer,o.$headerScroller=o.$topPanel.find(".ngHeaderScroller"),o.$headers=o.$headerScroller.children(),o.$viewport=o.$root.find(".ngViewport"),o.$canvas=o.$viewport.find(".ngCanvas"),o.$footerPanel=o.$root.find(".ngFooterPanel"),e.$watch(function(){return o.$viewport.scrollLeft()},function(e){return o.$headerContainer.scrollLeft(e)}),n.UpdateGridLayout(e,o)},n.getRealWidth=function(e){var n=0,r={visibility:"hidden",display:"block"},o=e.parents().andSelf().not(":visible");return t.swap(o[0],r,function(){n=e.outerWidth()}),n},n.UpdateGridLayout=function(e,t){var r=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=n.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(r,!0)},n.numberOfGrids=0,n.BuildStyles=function(r,o,i){var l,s=o.config.rowHeight,a=o.$styleSheet,c=o.gridId,u=r.columns,d=0,g=0;o.config.inlineAggregate&&(g=125*o.config.groups.length),a||(a=t("#"+c),a[0]||(a=t("<style id='"+c+"' type='text/css' rel='stylesheet' />").appendTo(o.$root))),a.empty();var h=r.totalRowWidth();l="."+c+" .ngCanvas { width: "+h+"px; }"+"."+c+" .ngRow { width: "+h+"px; left: "+g+"px; }"+"."+c+" .ngCanvas { width: "+h+"px; }"+"."+c+" .ngHeaderScroller { width: "+(h+n.ScrollH)+"px; left: "+g+"px; }";for(var f=0;u.length>f;f++){var p=u[f];if(p.visible!==!1){var m=p.pinned?o.$viewport.scrollLeft()+d:d;l+="."+c+" .col"+f+" { width: "+p.width+"px; left: "+m+"px; height: "+s+"px }"+"."+c+" .colt"+f+" { width: "+p.width+"px; }",d+=p.width}}e.isIe?a[0].styleSheet.cssText=l:a[0].appendChild(document.createTextNode(l)),o.$styleSheet=a,i&&(r.adjustScrollLeft(o.$viewport.scrollLeft()),n.digest(r))},n.setColLeft=function(t,n,o){if(o.$styleSheet){var i=r[t.index];i||(i=r[t.index]=RegExp(".col"+t.index+" { width: [0-9]+px; left: [0-9]+px"));var l=o.$styleSheet.html(),s=l.replace(i,".col"+t.index+" { width: "+t.width+"px; left: "+n+"px");e.isIe?setTimeout(function(){o.$styleSheet.html(s)}):o.$styleSheet.html(s)}},n.setColLeft.immediate=1,n.RebuildGrid=function(e,t){n.UpdateGridLayout(e,t),t.config.maintainColumnRatios&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),n.BuildStyles(e,t,!0)},n.digest=function(e){e.$root.$$phase||e.$digest()},n.ScrollH=17,n.ScrollW=17,n.LetterW=10,o(),n}]),p.factory("$sortService",["$parse",function(e){var t={};return t.colSortFnCache={},t.guessSortFn=function(e){var n=typeof e;switch(n){case"number":return t.sortNumber;case"boolean":return t.sortBool;case"string":return e.match(/^-?[£$¤]?[\d,.]+%?$/)?t.sortNumberStr:t.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?t.sortDate:t.basicSort}},t.basicSort=function(e,t){return e==t?0:t>e?-1:1},t.sortNumber=function(e,t){return e-t},t.sortNumberStr=function(e,t){var n,r,o=!1,i=!1;return n=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(n)&&(o=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(i=!0),o&&i?0:o?1:i?-1:n-r},t.sortAlpha=function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n==r?0:r>n?-1:1},t.sortDate=function(e,t){var n=e.getTime(),r=t.getTime();return n==r?0:r>n?-1:1},t.sortBool=function(e,t){return e&&t?0:e||t?e?1:-1:0},t.sortData=function(n,r){if(r&&n){var i,l,s=n.fields.length,a=n.fields,c=r.slice(0);r.sort(function(r,u){for(var d,g=0,h=0;0==g&&s>h;){i=n.columns[h],l=n.directions[h],d=t.getSortFn(i,c);var f=e(a[h])(r),p=e(a[h])(u);!f&&0!=f||!p&&0!=p?p||f?f?p||(g=-1):g=1:g=0:g=d(f,p),h++}return l===o?g:0-g})}},t.Sort=function(e,n){t.isSorting||(t.isSorting=!0,t.sortData(e,n),t.isSorting=!1)},t.getSortFn=function(n,r){var o,i=void 0;if(t.colSortFnCache[n.field])i=t.colSortFnCache[n.field];else if(void 0!=n.sortingAlgorithm)i=n.sortingAlgorithm,t.colSortFnCache[n.field]=n.sortingAlgorithm;else{if(o=r[0],!o)return i;i=t.guessSortFn(e(n.field)(o)),i?t.colSortFnCache[n.field]=i:i=t.sortAlpha}return i},t}]),p.factory("$utilityService",["$parse",function(n){var r=/function (.{1,})\(/,o={visualLength:function(e){var n=document.getElementById("testDataLength");return n||(n=document.createElement("SPAN"),n.id="testDataLength",n.style.visibility="hidden",document.body.appendChild(n)),t(n).css("font",t(e).css("font")),n.innerHTML=t(e).text(),n.offsetWidth},forIn:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},evalProperty:function(e,t){return n(t)(e)},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},getElementsByClassName:function(e){for(var t=[],n=RegExp("\\b"+e+"\\b"),r=document.getElementsByTagName("*"),o=0;r.length>o;o++){var i=r[o].className;n.test(i)&&t.push(r[o])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,n){var r=e.ngGrid.i18n[n];for(var o in r)t.i18n[o]=r[o]},getInstanceType:function(e){var t=r.exec(""+e.constructor);return t&&t.length>1?t[1]:""},ieVersion:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e>4?e:void 0}()};return t.extend(o,{isIe:function(){return void 0!==o.ieVersion}()}),o}]);var x=function(e,t,n,r){var o=this;o.rowIndex=0,o.offsetTop=o.rowIndex*n,o.entity=e,o.label=e.gLabel,o.field=e.gField,o.depth=e.gDepth,o.parent=e.parent,o.children=e.children,o.aggChildren=e.aggChildren,o.aggIndex=e.aggIndex,o.collapsed=r,o.isAggRow=!0,o.offsetLeft=25*e.gDepth,o.aggLabelFilter=e.aggLabelFilter,o.toggleExpand=function(){o.collapsed=o.collapsed?!1:!0,o.orig&&(o.orig.collapsed=o.collapsed),o.notifyChildren()},o.setExpand=function(e){o.collapsed=e,o.notifyChildren()},o.notifyChildren=function(){for(var e=Math.max(t.aggCache.length,o.children.length),n=0;e>n;n++)if(o.aggChildren[n]&&(o.aggChildren[n].entity[a]=o.collapsed,o.collapsed&&o.aggChildren[n].setExpand(o.collapsed)),o.children[n]&&(o.children[n][a]=o.collapsed),n>o.aggIndex&&t.aggCache[n]){var r=t.aggCache[n],i=30*o.children.length;r.offsetTop=o.collapsed?r.offsetTop-i:r.offsetTop+i}t.renderedChange()},o.aggClass=function(){return o.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},o.totalChildren=function(){if(o.aggChildren.length>0){var e=0,t=function(n){n.aggChildren.length>0?angular.forEach(n.aggChildren,function(e){t(e)}):e+=n.children.length};return t(o),e}return o.children.length},o.copy=function(){var e=new x(o.entity,t,n,r);return e.orig=o,e}},y=function(e,n,r,l,s,a){var c=this,d=e.colDef,g=500,h=0,p=null;c.colDef=e.colDef,c.width=d.width,c.groupIndex=0,c.isGroupedBy=!1,c.minWidth=d.minWidth?d.minWidth:50,c.maxWidth=d.maxWidth?d.maxWidth:9e3,c.enableCellEdit=e.enableCellEdit||d.enableCellEdit,c.headerRowHeight=e.headerRowHeight,c.displayName=d.displayName||d.field,c.index=e.index,c.isAggCol=e.isAggCol,c.cellClass=d.cellClass,c.sortPriority=void 0,c.cellFilter=d.cellFilter?d.cellFilter:"",c.field=d.field,c.aggLabelFilter=d.cellFilter||d.aggLabelFilter,c.visible=a.isNullOrUndefined(d.visible)||d.visible,c.sortable=!1,c.resizable=!1,c.pinnable=!1,c.pinned=e.enablePinning&&d.pinned,c.originalIndex=c.index,c.groupable=a.isNullOrUndefined(d.groupable)||d.groupable,e.enableSort&&(c.sortable=a.isNullOrUndefined(d.sortable)||d.sortable),e.enableResize&&(c.resizable=a.isNullOrUndefined(d.resizable)||d.resizable),e.enablePinning&&(c.pinnable=a.isNullOrUndefined(d.pinnable)||d.pinnable),c.sortDirection=void 0,c.sortingAlgorithm=d.sortFn,c.headerClass=d.headerClass,c.cursor=c.sortable?"pointer":"default",c.headerCellTemplate=d.headerCellTemplate||s.get("headerCellTemplate.html"),c.cellTemplate=d.cellTemplate||s.get("cellTemplate.html").replace(u,c.cellFilter?"|"+c.cellFilter:""),c.enableCellEdit&&(c.cellEditTemplate=s.get("cellEditTemplate.html"),c.editableCellTemplate=d.editableCellTemplate||s.get("editableCellTemplate.html")),d.cellTemplate&&!f.test(d.cellTemplate)&&(c.cellTemplate=t.ajax({type:"GET",url:d.cellTemplate,async:!1}).responseText),c.enableCellEdit&&d.editableCellTemplate&&!f.test(d.editableCellTemplate)&&(c.editableCellTemplate=t.ajax({type:"GET",url:d.editableCellTemplate,async:!1}).responseText),d.headerCellTemplate&&!f.test(d.headerCellTemplate)&&(c.headerCellTemplate=t.ajax({type:"GET",url:d.headerCellTemplate,async:!1}).responseText),c.colIndex=function(){var e=c.pinned?"pinned ":"";
return e+="col"+c.index+" colt"+c.index,c.cellClass&&(e+=" "+c.cellClass),e},c.groupedByClass=function(){return c.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},c.toggleVisible=function(){c.visible=!c.visible},c.showSortButtonUp=function(){return c.sortable?c.sortDirection===i:c.sortable},c.showSortButtonDown=function(){return c.sortable?c.sortDirection===o:c.sortable},c.noSortVisible=function(){return!c.sortDirection},c.sort=function(t){if(!c.sortable)return!0;var n=c.sortDirection===o?i:o;return c.sortDirection=n,e.sortCallback(c,t),!1},c.gripClick=function(){h++,1===h?p=setTimeout(function(){h=0},g):(clearTimeout(p),e.resizeOnDataCallback(c),h=0)},c.gripOnMouseDown=function(e){return e.ctrlKey&&!c.pinned?(c.toggleVisible(),l.BuildStyles(n,r),!0):(e.target.parentElement.style.cursor="col-resize",c.startMousePosition=e.clientX,c.origWidth=c.width,t(document).mousemove(c.onMouseMove),t(document).mouseup(c.gripOnMouseUp),!1)},c.onMouseMove=function(e){var t=e.clientX-c.startMousePosition,o=t+c.origWidth;return c.width=c.minWidth>o?c.minWidth:o>c.maxWidth?c.maxWidth:o,l.BuildStyles(n,r),!1},c.gripOnMouseUp=function(e){return t(document).off("mousemove",c.onMouseMove),t(document).off("mouseup",c.gripOnMouseUp),e.target.parentElement.style.cursor="default",n.adjustScrollLeft(0),l.digest(n),!1},c.copy=function(){var t=new y(e,n,r,l,s);return t.isClone=!0,t.orig=c,t},c.setVars=function(e){c.orig=e,c.width=e.width,c.groupIndex=e.groupIndex,c.isGroupedBy=e.isGroupedBy,c.displayName=e.displayName,c.index=e.index,c.isAggCol=e.isAggCol,c.cellClass=e.cellClass,c.cellFilter=e.cellFilter,c.field=e.field,c.aggLabelFilter=e.aggLabelFilter,c.visible=e.visible,c.sortable=e.sortable,c.resizable=e.resizable,c.pinnable=e.pinnable,c.pinned=e.pinned,c.originalIndex=e.originalIndex,c.sortDirection=e.sortDirection,c.sortingAlgorithm=e.sortingAlgorithm,c.headerClass=e.headerClass,c.headerCellTemplate=e.headerCellTemplate,c.cellTemplate=e.cellTemplate,c.cellEditTemplate=e.cellEditTemplate}},b=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},C=function(e){var t,n=this;n.selectInputElement=function(e){var t=e.nodeName.toLowerCase();("input"==t||"textarea"==t)&&e.select()},n.focusCellElement=function(n,r){if(n.selectionProvider.lastClickedRow){var o=void 0!=r?r:t,i=n.selectionProvider.lastClickedRow.clone?n.selectionProvider.lastClickedRow.clone.elm:n.selectionProvider.lastClickedRow.elm;if(void 0!=o&&i){var l=angular.element(i[0].children).filter(function(){return 8!=this.nodeType}),s=Math.max(Math.min(n.renderedColumns.length-1,o),0);e.config.showSelectionCheckbox&&angular.element(l[s]).scope()&&0==angular.element(l[s]).scope().col.index&&(s=1),l[s]&&l[s].children[0].focus(),t=o}}};var r=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"==t?"-moz-none":t,"-ms-user-select":t,"user-select":t})};n.selectionHandlers=function(t,n){var o=!1;n.bind("keydown",function(i){if(16==i.keyCode)return r(n,"none",i),!0;if(!o){o=!0;var l=w(t,n,i,e);return o=!1,l}return!0}),n.bind("keyup",function(e){return 16==e.keyCode&&r(n,"text",e),!0})}},S=function(n,r,o,i){var l=this;l.colToMove=void 0,l.groupToMove=void 0,l.assignEvents=function(){n.config.jqueryUIDraggable&&!n.config.enablePinning?n.$groupPanel.droppable({addClasses:!1,drop:function(e){l.onGroupDrop(e)}}):(n.$groupPanel.on("mousedown",l.onGroupMouseDown).on("dragover",l.dragOver).on("drop",l.onGroupDrop),n.$headerScroller.on("mousedown",l.onHeaderMouseDown).on("dragover",l.dragOver),n.config.enableColumnReordering&&!n.config.enablePinning&&n.$headerScroller.on("drop",l.onHeaderDrop),n.config.enableRowReordering&&n.$viewport.on("mousedown",l.onRowMouseDown).on("dragover",l.dragOver).on("drop",l.onRowDrop)),r.$watch("renderedColumns",function(){i(l.setDraggables)})},l.dragStart=function(e){e.dataTransfer.setData("text","")},l.dragOver=function(e){e.preventDefault()},l.setDraggables=function(){if(n.config.jqueryUIDraggable)n.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){l.onHeaderMouseDown(e)}}).droppable({drop:function(e){l.onHeaderDrop(e)}});else{var e=n.$root.find(".ngHeaderSortColumn");angular.forEach(e,function(e){e.setAttribute("draggable","true"),e.addEventListener&&e.addEventListener("dragstart",l.dragStart)}),-1!=navigator.userAgent.indexOf("MSIE")&&n.$root.find(".ngHeaderSortColumn").bind("selectstart",function(){return this.dragDrop(),!1})}},l.onGroupMouseDown=function(e){var r=t(e.target);if("ngRemoveGroup"!=r[0].className){var o=angular.element(r).scope();o&&(n.config.jqueryUIDraggable||(r.attr("draggable","true"),this.addEventListener&&this.addEventListener("dragstart",l.dragStart),-1!=navigator.userAgent.indexOf("MSIE")&&r.bind("selectstart",function(){return this.dragDrop(),!1})),l.groupToMove={header:r,groupName:o.group,index:o.$index})}else l.groupToMove=void 0},l.onGroupDrop=function(e){e.stopPropagation();var o,i;l.groupToMove?(o=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"==o.context.className?(r.configGroups.splice(l.groupToMove.index,1),r.configGroups.push(l.groupToMove.groupName)):(i=angular.element(o).scope(),i&&l.groupToMove.index!=i.$index&&(r.configGroups.splice(l.groupToMove.index,1),r.configGroups.splice(i.$index,0,l.groupToMove.groupName))),l.groupToMove=void 0,n.fixGroupIndexes()):l.colToMove&&(-1==r.configGroups.indexOf(l.colToMove.col)&&(o=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"==o.context.className||"ngGroupPanelDescription ng-binding"==o.context.className?r.groupBy(l.colToMove.col):(i=angular.element(o).scope(),i&&r.removeGroup(i.$index))),l.colToMove=void 0),r.$$phase||r.$apply()},l.onHeaderMouseDown=function(e){var n=t(e.target).closest(".ngHeaderSortColumn"),r=angular.element(n).scope();r&&(l.colToMove={header:n,col:r.col})},l.onHeaderDrop=function(e){if(l.colToMove&&!l.colToMove.col.pinned){var i=t(e.target).closest(".ngHeaderSortColumn"),s=angular.element(i).scope();if(s){if(l.colToMove.col==s.col)return;r.columns.splice(l.colToMove.col.index,1),r.columns.splice(s.col.index,0,l.colToMove.col),n.fixColumnIndexes(),o.BuildStyles(r,n,!0),l.colToMove=void 0}}},l.onRowMouseDown=function(e){var n=t(e.target).closest(".ngRow"),r=angular.element(n).scope();r&&(n.attr("draggable","true"),o.eventStorage.rowToMove={targetRow:n,scope:r})},l.onRowDrop=function(e){var r=t(e.target).closest(".ngRow"),i=angular.element(r).scope();if(i){var l=o.eventStorage.rowToMove;if(l.scope.row==i.row)return;n.changeRowOrder(l.scope.row,i.row),n.searchProvider.evalFilter(),o.eventStorage.rowToMove=void 0,o.digest(i.$root)}},l.assignGridEventHandlers=function(){-1===n.config.tabIndex?(n.$viewport.attr("tabIndex",o.numberOfGrids),o.numberOfGrids++):n.$viewport.attr("tabIndex",n.config.tabIndex),t(e).resize(function(){o.RebuildGrid(r,n)}),t(n.$root.parent()).on("resize",function(){o.RebuildGrid(r,n)})},l.assignGridEventHandlers(),l.assignEvents()},$=function(e,t){e.maxRows=function(){var e=Math.max(t.config.totalServerItems,t.data.length);return e},e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var n=e.pagingOptions.currentPage;t.config.totalServerItems>0?e.pagingOptions.currentPage=Math.min(n+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var n=e.pagingOptions.currentPage,r=e.maxPages();return t.config.totalServerItems>0?!(r>n):1>t.data.length},e.cantPageToLast=function(){return t.config.totalServerItems>0?e.cantPageForward():!0},e.cantPageBackward=function(){var t=e.pagingOptions.currentPage;return!(t>1)}},T=function(o,i,l,s,c,u,d,g,h,p,m){var v={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowReordering:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50},w=this;w.maxCanvasHt=0,w.config=t.extend(v,e.ngGrid.config,i),w.config.showSelectionCheckbox=w.config.showSelectionCheckbox&&w.config.enableColumnHeavyVirt===!1,w.config.enablePinning=w.config.enablePinning&&w.config.enableColumnHeavyVirt===!1,w.config.selectWithCheckboxOnly=w.config.selectWithCheckboxOnly&&w.config.showSelectionCheckbox!==!1,w.config.pinSelectionCheckbox=w.config.enablePinning,"string"==typeof i.columnDefs&&(w.config.columnDefs=o.$eval(i.columnDefs)),w.rowCache=[],w.rowMap=[],w.gridId="ng"+d.newId(),w.$root=null,w.$groupPanel=null,w.$topPanel=null,w.$headerContainer=null,w.$headerScroller=null,w.$headers=null,w.$viewport=null,w.$canvas=null,w.rootDim=w.config.gridDim,w.data=[],w.lateBindColumns=!1,w.filteredRows=[],w.initTemplates=function(){var e=["rowTemplate","aggregateTemplate","headerRowTemplate","checkboxCellTemplate","checkboxHeaderTemplate","menuTemplate","footerTemplate"],t=[];return e.forEach(function(e){t.push(w.getTemplate(e))}),m.all(t)},w.getTemplate=function(e){var t=w.config[e],n=w.gridId+e+".html",r=m.defer();if(t&&!f.test(t))p.get(t,{cache:u}).success(function(e){u.put(n,e),r.resolve()}).error(function(){r.reject("Could not load template: "+t)});else if(t)u.put(n,t),r.resolve();else{var o=e+".html";u.put(n,u.get(o)),r.resolve()}return r.promise},"object"==typeof w.config.data&&(w.data=w.config.data),w.calcMaxCanvasHeight=function(){return w.config.groups.length>0?w.rowFactory.parsedData.filter(function(e){return w.config.inlineAggregate&&e.isAggRow&&!e.collapsed?!1:!e[a]}).length*w.config.rowHeight:w.filteredRows.length*w.config.rowHeight},w.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0},w.setRenderedRows=function(e){o.renderedRows.length=e.length;for(var t=0;e.length>t;t++)!o.renderedRows[t]||e[t].isAggRow||o.renderedRows[t].isAggRow?(o.renderedRows[t]=e[t].copy(),o.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||o.renderedRows[t].setVars(e[t])):o.renderedRows[t].setVars(e[t]),o.renderedRows[t].rowIndex=e[t].rowIndex,o.renderedRows[t].offsetTop=e[t].offsetTop,o.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;w.refreshDomSizes(),o.$emit("ngGridEventRows",e)},w.minRowsToRender=function(){var e=o.viewportDimHeight()||1;return Math.floor(e/w.config.rowHeight)},w.refreshDomSizes=function(){var e=new b;e.outerWidth=w.elementDims.rootMaxW,e.outerHeight=w.elementDims.rootMaxH,w.rootDim=e,w.maxCanvasHt=w.calcMaxCanvasHeight()},w.buildColumnDefsFromData=function(){w.config.columnDefs=[];var e=w.data[0];return e?(d.forIn(e,function(e,t){-1==w.config.excludeProperties.indexOf(t)&&w.config.columnDefs.push({field:t})}),void 0):(w.lateBoundColumns=!0,void 0)},w.buildColumns=function(){var e=w.config.columnDefs,t=[];if(e||(w.buildColumnDefsFromData(),e=w.config.columnDefs),w.config.showSelectionCheckbox&&t.push(new y({colDef:{field:"✔",width:w.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:u.get(o.gridId+"checkboxHeaderTemplate.html"),cellTemplate:u.get(o.gridId+"checkboxCellTemplate.html"),pinned:w.config.pinSelectionCheckbox},index:0,headerRowHeight:w.config.headerRowHeight,sortCallback:w.sortData,resizeOnDataCallback:w.resizeOnData,enableResize:w.config.enableColumnResize,enableSort:w.config.enableSorting,enablePinning:w.config.enablePinning},o,w,s,u,d)),e.length>0){var n=w.config.showSelectionCheckbox?w.config.groups.length+1:w.config.groups.length;o.configGroups.length=0,angular.forEach(e,function(e,r){r+=n;var i=new y({colDef:e,index:r,headerRowHeight:w.config.headerRowHeight,sortCallback:w.sortData,resizeOnDataCallback:w.resizeOnData,enableResize:w.config.enableColumnResize,enableSort:w.config.enableSorting,enablePinning:w.config.enablePinning,enableCellEdit:w.config.enableCellEdit},o,w,s,u,d),l=w.config.groups.indexOf(e.field);-1!=l&&(i.isGroupedBy=!0,o.configGroups.splice(l,0,i),i.groupIndex=o.configGroups.length),t.push(i)}),o.columns=t}},w.configureColumnWidths=function(){var e=w.config.columnDefs,t=w.config.showSelectionCheckbox?o.configGroups.length+1:o.configGroups.length,n=(e.length+t,[]),r=[],i=0,l=0;if(l+=w.config.showSelectionCheckbox?25:0,angular.forEach(e,function(e,s){s+=t;var a=!1,c=void 0;if(d.isNullOrUndefined(e.width)?e.width="*":(a=isNaN(e.width)?d.endsWith(e.width,"%"):!1,c=a?e.width:parseInt(e.width,10)),isNaN(c)){if(c=e.width,"auto"==c){o.columns[s].width=e.minWidth,l+=o.columns[s].width;var u=o.columns[s];return g(function(){w.resizeOnData(u,!0)}),void 0}if(-1!=c.indexOf("*"))return e.visible!==!1&&(i+=c.length),e.index=s,n.push(e),void 0;if(a)return e.index=s,r.push(e),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}e.visible!==!1&&(l+=o.columns[s].width=parseInt(e.width,10))}),n.length>0){w.config.maintainColumnRatios===!1?angular.noop():w.config.maintainColumnRatios=!0;var a=w.rootDim.outerWidth-l;a-=w.config.groups.length*(w.config.inlineAggregate?125:25);var c=Math.floor(a/i);angular.forEach(n,function(e){var t=e.width.length;o.columns[e.index].width=c*t;var n=1;w.maxCanvasHt>o.viewportDimHeight()&&(n+=s.ScrollW),o.columns[e.index].width-=n,e.visible!==!1&&(l+=o.columns[e.index].width)})}r.length>0&&angular.forEach(r,function(e){var t=e.width;o.columns[e.index].width=Math.floor(w.rootDim.outerWidth*(parseInt(t.slice(0,-1),10)/100))})},w.init=function(){return w.initTemplates().then(function(){o.selectionProvider=new D(w,o,h),o.domAccessProvider=new C(w),w.rowFactory=new k(w,o,s,u,d),w.searchProvider=new R(o,w,c),w.styleProvider=new M(o,w),o.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),w.config.groups=t,w.rowFactory.filteredRowsChanged(),o.$emit("ngGridEventGroups",e)},!0),o.$watch("columns",function(e){s.BuildStyles(o,w,!0),o.$emit("ngGridEventColumns",e)},!0),o.$watch(function(){return i.i18n},function(e){d.seti18n(o,e)}),w.maxCanvasHt=w.calcMaxCanvasHeight(),w.config.sortInfo.fields&&w.config.sortInfo.fields.length>0&&(w.getColsFromFields(),w.sortActual())})},w.resizeOnData=function(e){var n=e.minWidth,r=d.getElementsByClassName("col"+e.index);angular.forEach(r,function(e,r){var o;if(0===r){var i=t(e).find(".ngHeaderText");o=d.visualLength(i)+10}else{var l=t(e).find(".ngCellText");o=d.visualLength(l)+10}o>n&&(n=o)}),e.width=e.longest=Math.min(e.maxWidth,n+7),s.BuildStyles(o,w,!0)},w.lastSortedColumns=[],w.changeRowOrder=function(e,t){var n=w.rowCache.indexOf(e),r=w.rowCache.indexOf(t);w.rowCache.splice(n,1),w.rowCache.splice(r,0,e),o.$emit("ngGridEventChangeOrder",w.rowCache)},w.sortData=function(e,n){if(n&&n.shiftKey&&w.config.sortInfo){var r=w.config.sortInfo.columns.indexOf(e);-1===r?(1==w.config.sortInfo.columns.length&&(w.config.sortInfo.columns[0].sortPriority=1),w.config.sortInfo.columns.push(e),e.sortPriority=w.config.sortInfo.columns.length,w.config.sortInfo.fields.push(e.field),w.config.sortInfo.directions.push(e.sortDirection),w.lastSortedColumns.push(e)):w.config.sortInfo.directions[r]=e.sortDirection}else{var i=t.isArray(e);w.config.sortInfo.columns.length=0,w.config.sortInfo.fields.length=0,w.config.sortInfo.directions.length=0;var l=function(e){w.config.sortInfo.columns.push(e),w.config.sortInfo.fields.push(e.field),w.config.sortInfo.directions.push(e.sortDirection),w.lastSortedColumns.push(e)};i?(w.clearSortingData(),angular.forEach(e,function(e,t){e.sortPriority=t+1,l(e)})):(w.clearSortingData(e),e.sortPriority=void 0,l(e))}w.sortActual(),w.searchProvider.evalFilter(),o.$emit("ngGridEventSorted",w.config.sortInfo)},w.getColsFromFields=function(){w.config.sortInfo.columns?w.config.sortInfo.columns.length=0:w.config.sortInfo.columns=[],angular.forEach(o.columns,function(e){var t=w.config.sortInfo.fields.indexOf(e.field);return-1!=t&&(e.sortDirection=w.config.sortInfo.directions[t]||"asc",w.config.sortInfo.columns.push(e)),!1})},w.sortActual=function(){if(!w.config.useExternalSorting){var e=w.data.slice(0);angular.forEach(e,function(e,t){var n=w.rowMap[t];if(void 0!=n){var r=w.rowCache[t];void 0!=r&&(e.preSortSelected=r.selected,e.preSortIndex=t)}}),l.Sort(w.config.sortInfo,e),angular.forEach(e,function(e,t){w.rowCache[t].entity=e,w.rowCache[t].selected=e.preSortSelected,w.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},w.clearSortingData=function(e){e?(angular.forEach(w.lastSortedColumns,function(t){e.index!=t.index&&(t.sortDirection="",t.sortPriority=null)}),w.lastSortedColumns[0]=e,w.lastSortedColumns.length=1):(angular.forEach(w.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),w.lastSortedColumns=[])},w.fixColumnIndexes=function(){for(var e=0;o.columns.length>e;e++)o.columns[e].visible!==!1&&(o.columns[e].index=e)},w.fixGroupIndexes=function(){angular.forEach(o.configGroups,function(e,t){e.groupIndex=t+1})},o.elementsNeedMeasuring=!0,o.columns=[],o.renderedRows=[],o.renderedColumns=[],o.headerRow=null,o.rowHeight=w.config.rowHeight,o.jqueryUITheme=w.config.jqueryUITheme,o.showSelectionCheckbox=w.config.showSelectionCheckbox,o.enableCellSelection=w.config.enableCellSelection,o.footer=null,o.selectedItems=w.config.selectedItems,o.multiSelect=w.config.multiSelect,o.showFooter=w.config.showFooter,o.footerRowHeight=o.showFooter?w.config.footerRowHeight:0,o.showColumnMenu=w.config.showColumnMenu,o.showMenu=!1,o.configGroups=[],o.gridId=w.gridId,o.enablePaging=w.config.enablePaging,o.pagingOptions=w.config.pagingOptions,o.i18n={},d.seti18n(o,w.config.i18n),o.adjustScrollLeft=function(e){for(var t=0,n=0,r=o.columns.length,i=[],l=!w.config.enableColumnHeavyVirt,a=0,c=function(e){l?i.push(e):o.renderedColumns[a]?o.renderedColumns[a].setVars(e):o.renderedColumns[a]=e.copy(),a++},u=0;r>u;u++){var d=o.columns[u];if(d.visible!==!1){var g=d.width+t;if(d.pinned){c(d);var h=u>0?e+n:e;s.setColLeft(d,h,w),n+=d.width}else g>=e&&e+w.rootDim.outerWidth>=t&&c(d);t+=d.width}}l&&(o.renderedColumns=i)},w.prevScrollTop=0,w.prevScrollIndex=0,o.adjustScrollTop=function(e,t){if(w.prevScrollTop!==e||t){e>0&&w.$viewport[0].scrollHeight-e<=w.$viewport.outerHeight()&&o.$emit("ngGridEventScroll");var i,l=Math.floor(e/w.config.rowHeight);if(w.filteredRows.length>w.config.virtualizationThreshold){if(e>w.prevScrollTop&&w.prevScrollIndex+r>l)return;if(w.prevScrollTop>e&&l>w.prevScrollIndex-r)return;i=new P(Math.max(0,l-n),l+w.minRowsToRender()+n)}else{var s=o.configGroups.length>0?w.rowFactory.parsedData.length:w.data.length;i=new P(0,Math.max(s,w.minRowsToRender()+n))}w.prevScrollTop=e,w.rowFactory.UpdateViewableRange(i),w.prevScrollIndex=l}},o.toggleShowMenu=function(){o.showMenu=!o.showMenu},o.toggleSelectAll=function(e){o.selectionProvider.toggleSelectAll(e)},o.totalFilteredItemsLength=function(){return w.filteredRows.length},o.showGroupPanel=function(){return w.config.showGroupPanel},o.topPanelHeight=function(){return w.config.showGroupPanel===!0?w.config.headerRowHeight+32:w.config.headerRowHeight},o.viewportDimHeight=function(){return Math.max(0,w.rootDim.outerHeight-o.topPanelHeight()-o.footerRowHeight-2)},o.groupBy=function(e){if(!(1>w.data.length)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:o.configGroups.length>0?!0:!1});var t=o.configGroups.indexOf(e);-1==t?(e.isGroupedBy=!0,o.configGroups.push(e),e.groupIndex=o.configGroups.length):o.removeGroup(t),w.$viewport.scrollTop(0),s.digest(o)}},o.removeGroup=function(e){var t=o.columns.filter(function(t){return t.groupIndex==e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,o.columns[e].isAggCol&&(o.columns.splice(e,1),o.configGroups.splice(e,1),w.fixGroupIndexes()),0===o.configGroups.length&&(w.fixColumnIndexes(),s.digest(o)),o.adjustScrollLeft(0)},o.togglePin=function(e){for(var t=e.index,n=0,r=0;o.columns.length>r&&o.columns[r].pinned;r++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,o.columns.splice(t,1),o.columns.splice(n,0,e),w.fixColumnIndexes(),s.BuildStyles(o,w,!0),w.$viewport.scrollLeft(w.$viewport.scrollLeft()-e.width)},o.totalRowWidth=function(){for(var e=0,t=o.columns,n=0;t.length>n;n++)t[n].visible!==!1&&(e+=t[n].width);return e},o.headerScrollerDim=function(){var e=o.viewportDimHeight(),t=w.maxCanvasHt,n=t>e,r=new b;return r.autoFitHeight=!0,r.outerWidth=o.totalRowWidth(),n?r.outerWidth+=w.elementDims.scrollW:w.elementDims.scrollH>=t-e&&(r.outerWidth+=w.elementDims.scrollW),r}},P=function(e,t){this.topRow=e,this.bottomRow=t},I=function(e,t,n,r,o){var i=this,l=t.enableRowSelection;i.jqueryUITheme=t.jqueryUITheme,i.rowClasses=t.rowClasses,i.entity=e,i.selectionProvider=n,i.selected=n.getSelection(e),i.cursor=l?"pointer":"default",i.setSelection=function(e){i.selectionProvider.setSelection(i,e),i.selectionProvider.lastClickedRow=i},i.continueSelection=function(e){i.selectionProvider.ChangeSelection(i,e)},i.ensureEntity=function(e){i.entity!=e&&(i.entity=e,i.selected=i.selectionProvider.getSelection(i.entity))},i.toggleSelected=function(e){if(!l&&!t.enableCellSelection)return!0;var n=e.target||e;return"checkbox"==n.type&&"ngSelectionCell ng-scope"!=n.parentElement.className?!0:t.selectWithCheckboxOnly&&"checkbox"!=n.type?(i.selectionProvider.lastClickedRow=i,!0):(i.beforeSelectionChange(i,e)&&i.continueSelection(e),!1)},i.rowIndex=r,i.offsetTop=i.rowIndex*t.rowHeight,i.rowDisplayIndex=0,i.alternatingRowClass=function(){var e=0===i.rowIndex%2,t={ngRow:!0,selected:i.selected,even:e,odd:!e,"ui-state-default":i.jqueryUITheme&&e,"ui-state-active":i.jqueryUITheme&&!e};return t},i.beforeSelectionChange=t.beforeSelectionChangeCallback,i.afterSelectionChange=t.afterSelectionChangeCallback,i.getProperty=function(e){return o.evalProperty(i.entity,e)},i.copy=function(){return i.clone=new I(e,t,n,r,o),i.clone.isClone=!0,i.clone.elm=i.elm,i.clone.orig=i,i.clone},i.setVars=function(e){e.clone=i,i.entity=e.entity,i.selected=e.selected}},k=function(e,t,r,o,i){var u=this;u.aggCache={},u.parentCache=[],u.dataChanged=!0,u.parsedData=[],u.rowConfig={},u.selectionProvider=t.selectionProvider,u.rowHeight=30,u.numberOfAggregates=0,u.groupedData=void 0,u.rowHeight=e.config.rowHeight,u.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},u.renderedRange=new P(0,e.minRowsToRender()+n),u.buildEntityRow=function(e,t){return new I(e,u.rowConfig,u.selectionProvider,t,i)},u.buildAggregateRow=function(t,n){var r=u.aggCache[t.aggIndex];return r||(r=new x(t,u,u.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),u.aggCache[t.aggIndex]=r),r.rowIndex=n,r.offsetTop=n*u.rowConfig.rowHeight,r},u.UpdateViewableRange=function(e){u.renderedRange=e,u.renderedChange()},u.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),u.dataChanged=!0,e.config.groups.length>0&&u.getGrouping(e.config.groups),u.UpdateViewableRange(u.renderedRange)},u.renderedChange=function(){if(!u.groupedData||1>e.config.groups.length)return u.renderedChangeNoGroups(),e.refreshDomSizes(),void 0;u.wasGrouped=!0,u.parentCache=[];var t=0,n=0,r=u.parsedData.filter(function(e){return e.isAggRow?e.parent&&e.parent.collapsed?!1:(++n,!0):(e[a]||(e.rowIndex=t++),!e[a])});u.totalRows=r.length;for(var o=[],i=e.config.inlineAggregate,l=0,s=u.renderedRange.topRow;u.renderedRange.bottomRow>s;s++)r[s]&&(r[s].offsetTop=(s-l)*e.config.rowHeight,i&&r[s].isAggRow&&!r[s].collapsed&&++l,o.push(r[s]));e.setRenderedRows(o)},u.renderedChangeNoGroups=function(){for(var t=[],n=u.renderedRange.topRow;u.renderedRange.bottomRow>n;n++)e.filteredRows[n]&&(e.filteredRows[n].rowIndex=n,e.filteredRows[n].offsetTop=n*e.config.rowHeight,t.push(e.filteredRows[n]));e.setRenderedRows(t)},u.fixRowCache=function(){var t=e.data.length,n=t-e.rowCache.length;if(0>n)e.rowCache.length=e.rowMap.length=t;else for(var r=e.rowCache.length;t>r;r++)e.rowCache[r]=e.rowFactory.buildEntityRow(e.data[r],r)},u.parseGroupData=function(e){if(e.values)for(var t=0;e.values.length>t;t++)u.parentCache[u.parentCache.length-1].children.push(e.values[t]),u.parsedData.push(e.values[t]);else for(var n in e)if(n!=l&&n!=s&&n!=c&&e.hasOwnProperty(n)){var r=u.buildAggregateRow({gField:e[l],gLabel:n,gDepth:e[s],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:u.numberOfAggregates,aggLabelFilter:e[c].aggLabelFilter},0);u.numberOfAggregates++,r.parent=u.parentCache[r.depth-1],r.parent&&(r.parent.collapsed=!1,r.parent.aggChildren.push(r)),u.parsedData.push(r),u.parentCache[r.depth]=r,u.parseGroupData(e[n])}},u.getGrouping=function(n){u.aggCache=[],u.numberOfAggregates=0,u.groupedData={};for(var d=e.filteredRows,g=n.length,h=t.columns,f=0;d.length>f;f++){var p=d[f].entity;if(!p)return;d[f][a]=e.config.groupsCollapsedByDefault;for(var m=u.groupedData,v=0;n.length>v;v++){var w=n[v],x=h.filter(function(e){return e.field==w})[0],b=i.evalProperty(p,w);b=b?""+b:"null",m[b]||(m[b]={}),m[l]||(m[l]=w),m[s]||(m[s]=v),m[c]||(m[c]=x),m=m[b]}m.values||(m.values=[]),m.values.push(d[f])}for(var C=0;n.length>C;C++)!h[C].isAggCol&&g>=C&&h.splice(0,0,new y({colDef:{field:"",width:e.config.inlineAggregate?0:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,r,o,i));r.BuildStyles(t,e,!0),e.fixColumnIndexes(),t.adjustScrollLeft(0),u.parsedData.length=0,u.parseGroupData(u.groupedData),u.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&u.getGrouping(e.config.groups)},R=function(e,n,r){var o=this,i=[];o.extFilter=n.config.filterOptions.useExternalFilter,e.showFilter=n.config.showFilter,e.filterText="",o.fieldMap={},o.evalFilter=function(){var e=function(e){for(var t=0,n=i.length;n>t;t++){var s,a=i[t];if(!a.column){for(var c in e)if(e.hasOwnProperty(c)){var u=o.fieldMap[c];if(!u)continue;var d=null,g=null;u&&u.cellFilter&&(g=u.cellFilter.split(":"),d=r(g[0]));var h=e[c];if(null!=h){if("function"==typeof d){var f=""+d("object"==typeof h?l(h,u.field):h,g[1]);s=a.regex.test(f)}else s=a.regex.test("object"==typeof h?""+l(h,u.field):""+h);if(h&&s)return!0}}return!1}var p=o.fieldMap[a.columnDisplay];if(!p)return!1;var m=p.cellFilter.split(":"),v=p.cellFilter?r(m[0]):null,w=e[a.column]||e[p.field.split(".")[0]];if(null==w)return!1;if("function"==typeof v){var x=""+v("object"==typeof w?l(w,p.field):w,m[1]);s=a.regex.test(x)}else s=a.regex.test("object"==typeof w?""+l(w,p.field):""+w);if(!w||!s)return!1}return!0};n.filteredRows=0===i.length?n.rowCache:n.rowCache.filter(function(t){return e(t.entity)});for(var t=0;n.filteredRows.length>t;t++)n.filteredRows[t].rowIndex=t;n.rowFactory.filteredRowsChanged()};var l=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var n=t.split("."),r=e;if(n.length>1){for(var o=1,i=n.length;i>o;o++)if(r=r[n[o]],!r)return e;return r}return e},s=function(e,t){try{return RegExp(e,t)}catch(n){return RegExp(e.replace(/(\^|\$|\(|\)|\<|\>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},a=function(e){i=[];var n;if(n=t.trim(e))for(var r=n.split(";"),o=0;r.length>o;o++){var l=r[o].split(":");if(l.length>1){var a=t.trim(l[0]),c=t.trim(l[1]);a&&c&&i.push({column:a,columnDisplay:a.replace(/\s+/g,"").toLowerCase(),regex:s(c,"i")})}else{var u=t.trim(l[0]);u&&i.push({column:"",regex:s(u,"i")})}}};e.$watch(function(){return n.config.filterOptions.filterText},function(t){e.filterText=t}),e.$watch("filterText",function(t){o.extFilter||(e.$emit("ngGridEventFilter",t),a(t),o.evalFilter())}),o.extFilter||e.$watch("columns",function(e){for(var t=0;e.length>t;t++){var n=e[t];n.field&&(o.fieldMap[n.field.split(".")[0]]=n),n.displayName&&(o.fieldMap[n.displayName.toLowerCase().replace(/\s+/g,"")]=n)}})},D=function(e,t,n){var r=this;r.multi=e.config.multiSelect,r.selectedItems=e.config.selectedItems,r.selectedIndex=e.config.selectedIndex,r.lastClickedRow=void 0,r.ignoreSelectedItemChanges=!1,r.pKeyParser=n(e.config.primaryKey),r.ChangeSelection=function(n,o){var i=o.which||o.keyCode,l=40===i||38===i;if(!o||o.keyCode&&!l||o.ctrlKey||o.shiftKey||r.toggleSelectAll(!1,!0),o&&o.shiftKey&&!o.keyCode&&r.multi&&e.config.enableRowSelection){if(r.lastClickedRow){var s;s=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var a=n.rowIndex,c=r.lastClickedRow.rowIndex;if(r.lastClickedRow=n,a==c)return!1;c>a?(a^=c,c=a^c,a^=c,a--):c++;for(var u=[];a>=c;c++)u.push(s[c]);if(u[u.length-1].beforeSelectionChange(u,o)){for(var d=0;u.length>d;d++){var g=u[d],h=g.selected;g.selected=!h,g.clone&&(g.clone.selected=g.selected);var f=r.selectedItems.indexOf(g.entity);-1===f?r.selectedItems.push(g.entity):r.selectedItems.splice(f,1)}u[u.length-1].afterSelectionChange(u,o)}return!0}}else r.multi?(!o.keyCode||l)&&r.setSelection(n,!n.selected):r.lastClickedRow==n?r.setSelection(r.lastClickedRow,e.config.keepLastSelected?!0:!n.selected):(r.lastClickedRow&&r.setSelection(r.lastClickedRow,!1),r.setSelection(n,!n.selected));return r.lastClickedRow=n,!0},r.getSelection=function(t){var n=!1;if(e.config.primaryKey){var o=r.pKeyParser(t);angular.forEach(r.selectedItems,function(e){o==r.pKeyParser(e)&&(n=!0)})}else n=-1!==r.selectedItems.indexOf(t);return n},r.setSelection=function(t,n){if(e.config.enableRowSelection){if(n)-1===r.selectedItems.indexOf(t.entity)&&(!r.multi&&r.selectedItems.length>0&&r.toggleSelectAll(!1,!0),r.selectedItems.push(t.entity));else{var o=r.selectedItems.indexOf(t.entity);-1!=o&&r.selectedItems.splice(o,1)}t.selected=n,t.orig&&(t.orig.selected=n),t.clone&&(t.clone.selected=n),t.afterSelectionChange(t)}},r.toggleSelectAll=function(t,n){if(n||e.config.beforeSelectionChange(e.filteredRows,t)){var o=r.selectedItems.length;o>0&&(r.selectedItems.length=0);for(var i=0;e.filteredRows.length>i;i++)e.filteredRows[i].selected=t,e.filteredRows[i].clone&&(e.filteredRows[i].clone.selected=t),t&&r.selectedItems.push(e.filteredRows[i].entity);n||e.config.afterSelectionChange(e.filteredRows,t)}}},M=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var n={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(n.left=t.offsetLeft),n},e.canvasStyle=function(){return{height:""+t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}
},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};m.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t,n){t.isFocused=!0,e.digest(t);var r=angular.element(n[0].children).filter(function(){return 8!=this.nodeType}),o=angular.element(r[0].children[0]);o.length>0&&(angular.element(o).focus(),t.domAccessProvider.selectInputElement(o[0]),angular.element(o).bind("blur",function(){return t.isFocused=!1,e.digest(t),!0}))};return function(e,n){var r=!1;e.editCell=function(){setTimeout(function(){t(e,n)},0)},n.bind("mousedown",function(){return n.focus(),!0}),n.bind("focus",function(){return r=!0,!0}),n.bind("blur",function(){return r=!1,!0}),n.bind("keydown",function(o){return r&&37!=o.keyCode&&38!=o.keyCode&&39!=o.keyCode&&40!=o.keyCode&&9!=o.keyCode&&!o.shiftKey&&13!=o.keyCode&&t(e,n),27==o.keyCode&&n.focus(),!0})}}]),m.directive("ngCellText",function(){return function(e,t){t.bind("mouseover",function(e){e.preventDefault(),t.css({cursor:"text"})}),t.bind("mouseleave",function(e){e.preventDefault(),t.css({cursor:"default"})})}}),m.directive("ngCell",["$compile","$domUtilityService",function(e,t){var n={scope:!1,compile:function(){return{pre:function(t,n){var r,o=t.col.cellTemplate.replace(d,"$eval('row.entity.' + col.field)");t.col.enableCellEdit?(r=t.col.cellEditTemplate,r=r.replace(g,o),r=r.replace(h,t.col.editableCellTemplate.replace(d,"$eval('row.entity.' + col.field)"))):r=o;var i=e(r)(t);t.enableCellSelection&&-1==i[0].className.indexOf("ngSelectionCell")&&(i[0].setAttribute("tabindex",0),i.addClass("ngCellElement")),n.append(i)},post:function(e,n){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,n),e.$on("ngGridEventDigestCell",function(){t.digest(e)})}}}};return n}]),m.directive("ngGridFooter",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"footerTemplate.html"))(n))}}}};return n}]),m.directive("ngGridMenu",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"menuTemplate.html"))(n))}}}};return n}]),m.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse","$http","$q",function(e,n,r,o,i,l,s,a,c,u){var d={scope:!0,compile:function(){return{pre:function(d,g,h){var f=t(g),p=d.$eval(h.ngGrid);p.gridDim=new b({outerHeight:t(f).height(),outerWidth:t(f).width()});var m=new T(d,p,o,i,n,r,l,s,a,c,u);return m.init().then(function(){if("string"==typeof p.columnDefs?d.$parent.$watch(p.columnDefs,function(e){return e?(m.lateBoundColumns=!1,d.columns=[],m.config.columnDefs=e,m.buildColumns(),m.configureColumnWidths(),m.eventProvider.assignEvents(),i.RebuildGrid(d,m),void 0):(m.refreshDomSizes(),m.buildColumns(),void 0)},!0):m.buildColumns(),"string"==typeof p.data){var n=function(e){m.data=t.extend([],e),m.rowFactory.fixRowCache(),angular.forEach(m.data,function(e,t){var n=m.rowMap[t]||t;m.rowCache[n]&&m.rowCache[n].ensureEntity(e),m.rowMap[n]=t}),m.searchProvider.evalFilter(),m.configureColumnWidths(),m.refreshDomSizes(),m.config.sortInfo.fields.length>0&&(m.getColsFromFields(),m.sortActual(),m.searchProvider.evalFilter(),d.$emit("ngGridEventSorted",m.config.sortInfo)),d.$emit("ngGridEventData",m.gridId)};d.$parent.$watch(p.data,n),d.$parent.$watch(p.data+".length",function(){n(d.$eval(p.data))})}return m.footerController=new $(d,m),g.addClass("ngGrid").addClass(""+m.gridId),p.enableHighlighting||g.addClass("unselectable"),p.jqueryUITheme&&g.addClass("ui-widget"),g.append(e(r.get("gridTemplate.html"))(d)),i.AssignGridContainers(d,g,m),m.eventProvider=new S(m,d,i,s),p.selectRow=function(e,t){m.rowCache[e]&&(m.rowCache[e].clone&&m.rowCache[e].clone.setSelection(t?!0:!1),m.rowCache[e].setSelection(t?!0:!1))},p.selectItem=function(e,t){p.selectRow(m.rowMap[e],t)},p.selectAll=function(e){d.toggleSelectAll(e)},p.groupBy=function(e){if(e)d.groupBy(d.columns.filter(function(t){return t.field==e})[0]);else{var n=t.extend(!0,[],d.configGroups);angular.forEach(n,d.groupBy)}},p.sortBy=function(e){var t=d.columns.filter(function(t){return t.field==e})[0];t&&t.sort()},p.gridId=m.gridId,p.ngGrid=m,p.$gridScope=d,p.$gridServices={SortService:o,DomUtilityService:i},d.$on("ngGridEventDigestGrid",function(){i.digest(d.$parent)}),d.$on("ngGridEventDigestGridParent",function(){i.digest(d.$parent)}),d.$evalAsync(function(){d.adjustScrollLeft(0)}),angular.forEach(p.plugins,function(e){"function"==typeof e&&(e=e.call(this)),e.init(d.$new(),m,p.$gridServices),p.plugins[l.getInstanceType(e)]=e}),"function"==p.init&&p.init(m,d),null})}}}};return d}]),m.directive("ngHeaderCell",["$compile",function(e){var t={scope:!1,compile:function(){return{pre:function(t,n){n.append(e(t.col.headerCellTemplate)(t))}}}};return t}]),m.directive("ngIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){var o,i;e.$watch(r.ngIf,function(r){o&&(o.remove(),o=void 0),i&&(i.$destroy(),i=void 0),r&&(i=e.$new(),n(i,function(e){o=e,t.after(e)}))})}}}}]),m.directive("ngInput",["$parse",function(e){return function(t,n,r){var o=e(t.$eval(r.ngInput)),i=o.assign,l=o(t.row.entity);n.val(l),n.bind("keyup",function(){var e=n.val();t.$root.$$phase||t.$apply(function(){i(t.row.entity,e)})}),n.bind("keydown",function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:e.stopPropagation();break;case 27:t.$root.$$phase||t.$apply(function(){i(t.row.entity,l),n.val(l),n.blur()});default:}return!0})}}]),m.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,n){var r={scope:!1,compile:function(){return{pre:function(r,o){if(r.row.elm=o,r.row.clone&&(r.row.clone.elm=o),r.row.isAggRow){var i=n.get(r.gridId+"aggregateTemplate.html");i=r.row.aggLabelFilter?i.replace(u,"| "+r.row.aggLabelFilter):i.replace(u,""),o.append(e(i)(r))}else o.append(e(n.get(r.gridId+"rowTemplate.html"))(r));r.$on("ngGridEventDigestRow",function(){t.digest(r)})}}}};return r}]),m.directive("ngViewport",[function(){return function(e,t){var n,r,o=0;t.bind("scroll",function(t){var i=t.target.scrollLeft,l=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(i),e.adjustScrollLeft(i),e.adjustScrollTop(l),e.$root.$$phase||e.$digest(),r=i,o=o,n=!1,!0}),t.bind("mousewheel DOMMouseScroll",function(){return n=!0,t.focus(),!0}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},e.ngGrid.i18n.ge={ngAggregateLabel:"artikel",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hier und legen Sie es der Gruppe nach dieser Spalte.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Artikel:",ngTotalItemsLabel:"Meiste Artikel:",ngSelectedItemsLabel:"Ausgewählte Artikel:",ngPageSizeLabel:"Größe Seite:",ngPagerFirstTitle:"Erste Page",ngPagerNextTitle:"Nächste Page",ngPagerPrevTitle:"Vorherige Page",ngPagerLastTitle:"Letzte Page"},e.ngGrid.i18n.sp={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>    <div class="{{row.aggClass()}}"></div></div>'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="editCell()">	<div ng-if="!isFocused">	DISPLAY_CELL_TEMPLATE	</div>	<div ng-if="isFocused">	EDITABLE_CELL_TEMPLATE	</div></div>'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">    <div class="ngTotalSelectContainer" >        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>        </div>        <div class="ngFooterSelectedItems" ng-show="multiSelect">            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>        </div>    </div>    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>            </select>        </div>        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">            <button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>            <button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>            <input class="ngPagerCurrent" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>            <button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>            <button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>        </div>    </div></div>'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>        <ul ng-show="configGroups.length > 0" class="ngGroupList">            <li class="ngGroupItem" ng-repeat="group in configGroups">                <span class="ngGroupElement">                    <span class="ngGroupName">{{group.displayName}}                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>                    </span>                    <span ng-hide="$last" class="ngGroupArrow"></span>                </span>            </li>        </ul>    </div>    <div class="ngHeaderContainer" ng-style="headerStyle()">        <div class="ngHeaderScroller" ng-style="headerScrollerStyle()" ng-include="gridId + \'headerRowTemplate.html\'"></div>    </div>    <div ng-grid-menu></div></div><div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">    <div class="ngCanvas" ng-style="canvasStyle()">        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>    </div></div><div ng-grid-footer></div>'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }">    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>    <div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div>    <div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div>    <div class="ngSortPriority">{{col.sortPriority}}</div>    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div></div><div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell" ng-header-cell></div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">    <div class="ngHeaderButtonArrow"></div></div><div ng-show="showMenu" class="ngColMenu">    <div ng-show="showFilter">        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>    </div>    <div ng-show="showColumnMenu">        <span class="ngMenuText">{{i18n.ngMenuText}}</span>        <ul class="ngColList">            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>				<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>				<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>                      </li>        </ul>    </div></div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}" ng-cell></div>')}])}(window,jQuery);